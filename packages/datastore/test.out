yarn run v1.22.17
$ npm run lint && jest -w 1 --coverage

> @aws-amplify/datastore@3.5.2 lint
> tslint '{__tests__,src}/**/*.ts'

FAIL __tests__/DataStore.ts (8.734s)
  ‚óè DataStore observe, unmocked, with fake-indexeddb ‚Ä∫ subscribe to all models

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m297[0m:[93m21[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m297[0m  	const relations = namespace.relationships[srcModelName].relationTypes;
    [7m   [0m [91m 	                  ~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m301[0m:[93m28[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m301[0m  	const modelConstructor = this.getModelConstructorByModelName(
    [7m   [0m [91m 	                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m301[0m:[93m28[0m - [91merror[0m[90m TS2722: [0mCannot invoke an object which is possibly 'undefined'.

    [7m301[0m  	const modelConstructor = this.getModelConstructorByModelName(
    [7m   [0m [91m 	                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m302[0m:[93m4[0m - [91merror[0m[90m TS2345: [0mArgument of type 'string' is not assignable to parameter of type 'NAMESPACES'.

    [7m302[0m  		namespaceName,
    [7m   [0m [91m 		~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m446[0m:[93m12[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m446[0m  				await predicateIndex.index.getAll(predicateIndex.predicate.operand)
    [7m   [0m [91m 				      ~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m464[0m:[93m13[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m464[0m  					await predicateIndex.index.getAll(predicateIndex.predicate.operand)
    [7m   [0m [91m 					      ~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m572[0m:[93m54[0m - [91merror[0m[90m TS2345: [0mArgument of type 'ModelPredicate<T> | undefined' is not assignable to parameter of type 'ModelPredicate<Readonly<{ id: string; } & Record<string, any>>> | undefined'.
      Type 'ModelPredicate<T>' is not assignable to type 'ModelPredicate<Readonly<{ id: string; } & Record<string, any>>> | undefined'.
        Type 'ModelPredicate<T>' is not assignable to type 'ModelPredicate<Readonly<{ id: string; } & Record<string, any>>>'.
          Type 'ModelPredicate<T>' is not assignable to type '{ [x: string]: (operator: never, operand: never) => ModelPredicate<Readonly<{ id: string; } & Record<string, any>>>; readonly id: (operator: "ne" | "eq" | "le" | "lt" | "ge" | "gt" | "beginsWith" | "contains" | "notContains", operand: string) => ModelPredicate<...>; }'.
            Types of property 'id' are incompatible.
              Type 'PredicateExpression<T, NonNullable<T["id"]>>' is not assignable to type '(operator: "ne" | "eq" | "le" | "lt" | "ge" | "gt" | "beginsWith" | "contains" | "notContains", operand: string) => ModelPredicate<Readonly<{ id: string; } & Record<string, any>>>'.
                Type '(operator: keyof MapTypeToOperands<NonNullable<T["id"]>>[TypeName<NonNullable<T["id"]>>], operand: MapTypeToOperands<NonNullable<T["id"]>>[TypeName<...>][keyof MapTypeToOperands<...>[TypeName<...>]]) => ModelPredicate<...>' is not assignable to type '(operator: "ne" | "eq" | "le" | "lt" | "ge" | "gt" | "beginsWith" | "contains" | "notContains", operand: string) => ModelPredicate<Readonly<{ id: string; } & Record<string, any>>>'.
                  Types of parameters 'operand' and 'operand' are incompatible.
                    Type 'string' is not assignable to type 'MapTypeToOperands<NonNullable<T["id"]>>[TypeName<NonNullable<T["id"]>>][keyof MapTypeToOperands<NonNullable<T["id"]>>[TypeName<...>]]'.

    [7m572[0m  		const models = await this.query(modelConstructor, condition);
    [7m   [0m [91m 		                                                  ~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m574[0m:[93m5[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m574[0m  			this.schema.namespaces[nameSpace].relationships[modelConstructor.name]
    [7m   [0m [91m 			~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m629[0m:[93m49[0m - [91merror[0m[90m TS2339: [0mProperty 'id' does not exist on type 'T | PersistentModelConstructor<T, { readOnlyFields: "createdAt" | "updatedAt"; }>'.
      Property 'id' does not exist on type 'PersistentModelConstructor<T, { readOnlyFields: "createdAt" | "updatedAt"; }>'.

    [7m629[0m  			const fromDB = await this._get(store, model.id);
    [7m   [0m [91m 			                                            ~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m635[0m:[93m15[0m - [91merror[0m[90m TS2322: [0mType 'T | PersistentModelConstructor<T, { readOnlyFields: "createdAt" | "updatedAt"; }>' is not assignable to type 'T'.
      Type 'PersistentModelConstructor<T, { readOnlyFields: "createdAt" | "updatedAt"; }>' is not assignable to type 'T'.

    [7m635[0m  				return [[model], []];
    [7m   [0m [91m 				         ~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m639[0m:[93m13[0m - [91merror[0m[90m TS2339: [0mProperty 'predicates' does not exist on type 'PredicatesGroup<any> | undefined'.

    [7m639[0m  			const { predicates: predicateObjs, type } = predicates;
    [7m   [0m [91m 			        ~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m639[0m:[93m40[0m - [91merror[0m[90m TS2339: [0mProperty 'type' does not exist on type 'PredicatesGroup<any> | undefined'.

    [7m639[0m  			const { predicates: predicateObjs, type } = predicates;
    [7m   [0m [91m 			                                   ~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m641[0m:[93m39[0m - [91merror[0m[90m TS2345: [0mArgument of type 'unknown' is not assignable to parameter of type 'Readonly<{ id: string; } & Record<string, any>>'.

    [7m641[0m  			const isValid = validatePredicate(fromDB, type, predicateObjs);
    [7m   [0m [91m 			                                  ~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m652[0m:[93m6[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m652[0m  				this.schema.namespaces[nameSpace].relationships[modelConstructor.name]
    [7m   [0m [91m 				~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m657[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'T | PersistentModelConstructor<T, { readOnlyFields: "createdAt" | "updatedAt"; }>' is not assignable to type 'Readonly<{ id: string; } & Record<string, any>>'.
      Property 'id' is missing in type 'PersistentModelConstructor<T, { readOnlyFields: "createdAt" | "updatedAt"; }>' but required in type 'Readonly<{ id: string; } & Record<string, any>>'.

    [7m657[0m  				[model],
    [7m   [0m [91m 				 ~~~~~[0m

      [96msrc/types.ts[0m:[93m412[0m:[93m42[0m
        [7m412[0m export type PersistentModel = Readonly<{ id: string } & Record<string, any>>;
        [7m   [0m [96m                                         ~~[0m
        'id' is declared here.
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m664[0m:[93m6[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m664[0m  				this.schema.namespaces[nameSpace].relationships[modelConstructor.name]
    [7m   [0m [91m 				~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m669[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'T | PersistentModelConstructor<T, { readOnlyFields: "createdAt" | "updatedAt"; }>' is not assignable to type 'Readonly<{ id: string; } & Record<string, any>>'.
      Type 'PersistentModelConstructor<T, { readOnlyFields: "createdAt" | "updatedAt"; }>' is not assignable to type 'Readonly<{ id: string; } & Record<string, any>>'.

    [7m669[0m  				[model],
    [7m   [0m [91m 				 ~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m683[0m:[93m13[0m - [91merror[0m[90m TS2322: [0mType 'T | PersistentModelConstructor<T, { readOnlyFields: "createdAt" | "updatedAt"; }>' is not assignable to type 'T'.
      Type 'PersistentModelConstructor<T, { readOnlyFields: "createdAt" | "updatedAt"; }>' is not assignable to type 'T'.

    [7m683[0m  		return [[model], deletedModels];
    [7m   [0m [91m 		         ~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m690[0m:[93m32[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m690[0m  	const connectionStoreNames = deleteQueue.map(({ storeName }) => {
    [7m   [0m [91m 	                             ~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m695[0m:[93m34[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m695[0m  	for await (const deleteItem of deleteQueue) {
    [7m   [0m [91m 	                               ~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m704[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'string | number | Date | ArrayBufferView | ArrayBuffer | IDBArrayKey | undefined' is not assignable to type 'IDBValidKey'.
      Type 'undefined' is not assignable to type 'IDBValidKey'.

    [7m704[0m  					key = await store.index('byId').getKey(item['id']);
    [7m   [0m [91m 					~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m706[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'string | number | Date | ArrayBufferView | ArrayBuffer | IDBArrayKey | undefined' is not assignable to type 'IDBValidKey'.
      Type 'undefined' is not assignable to type 'IDBValidKey'.

    [7m706[0m  					key = await store.index('byId').getKey(item.toString());
    [7m   [0m [91m 					~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m730[0m:[93m6[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m730[0m  				this.schema.namespaces[nameSpace].relationships[modelName]
    [7m   [0m [91m 				~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m738[0m:[93m6[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m738[0m  				this.schema.namespaces[nameSpace].relationships[modelName].indexes,
    [7m   [0m [91m 				~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m739[0m:[93m6[0m - [91merror[0m[90m TS2345: [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.
      Type 'undefined' is not assignable to type 'string'.

    [7m739[0m  				rel.associatedWith
    [7m   [0m [91m 				~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m747[0m:[93m33[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m747[0m  					const hasOneCustomField = targetName in model;
    [7m   [0m [91m 					                          ~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m748[0m:[93m47[0m - [91merror[0m[90m TS2538: [0mType 'undefined' cannot be used as an index type.

    [7m748[0m  					const value = hasOneCustomField ? model[targetName] : model.id;
    [7m   [0m [91m 					                                        ~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m759[0m:[93m8[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m759[0m  						this.schema.namespaces[nameSpace].relationships[modelName]
    [7m   [0m [91m 						~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m777[0m:[93m8[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m777[0m  						this.schema.namespaces[nameSpace].relationships[modelName]
    [7m   [0m [91m 						~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m793[0m:[93m6[0m - [91merror[0m[90m TS2304: [0mCannot find name 'exhaustiveCheck'.

    [7m793[0m  				exhaustiveCheck(relationType);
    [7m   [0m [91m 				~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m802[0m:[93m6[0m - [91merror[0m[90m TS2722: [0mCannot invoke an object which is possibly 'undefined'.

    [7m802[0m  				this.getModelConstructorByModelName(nameSpace, srcModel),
    [7m   [0m [91m 				~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m802[0m:[93m42[0m - [91merror[0m[90m TS2345: [0mArgument of type 'string' is not assignable to parameter of type 'NAMESPACES'.

    [7m802[0m  				this.getModelConstructorByModelName(nameSpace, srcModel),
    [7m   [0m [91m 				                                    ~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m816[0m:[93m3[0m - [91merror[0m[90m TS2322: [0mType 'undefined' is not assignable to type 'IDBPDatabase<unknown>'.

    [7m816[0m  	this.db = undefined;
    [7m   [0m [91m 	~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m817[0m:[93m3[0m - [91merror[0m[90m TS2322: [0mType 'undefined' is not assignable to type 'Promise<void>'.

    [7m817[0m  	this.initPromise = undefined;
    [7m   [0m [91m 	~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m849[0m:[93m13[0m - [91merror[0m[90m TS2339: [0mProperty 'instance' does not exist on type '{ modelName: string; item: any; instance: any; } | undefined'.

    [7m849[0m  			const { instance } = connectedModels.find(
    [7m   [0m [91m 			        ~~~~~~~~[0m

      43 | 	});
      44 |
    > 45 | 	test('subscribe to all models', async (done) => {
         | 	^
      46 | 		const sub = DataStore.observe().subscribe(({ element, opType, model }) => {
      47 | 			expectType<PersistentModelConstructor<PersistentModel>>(model);
      48 | 			expectType<PersistentModel>(element);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:45:2)
      at Object.<anonymous> (__tests__/DataStore.ts:29:1)

  ‚óè DataStore observe, unmocked, with fake-indexeddb ‚Ä∫ subscribe to all models

    TypeError: Cannot read property 'observe' of undefined

      44 |
      45 | 	test('subscribe to all models', async (done) => {
    > 46 | 		const sub = DataStore.observe().subscribe(({ element, opType, model }) => {
         | 		                      ^
      47 | 			expectType<PersistentModelConstructor<PersistentModel>>(model);
      48 | 			expectType<PersistentModel>(element);
      49 | 			expect(opType).toEqual('INSERT');

      at __tests__/DataStore.ts:46:25
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:45:45)

  ‚óè DataStore observe, unmocked, with fake-indexeddb ‚Ä∫ subscribe to model instance

    TypeError: initSchema is not a function

      34 | 	beforeEach(async () => {
      35 | 		({ initSchema, DataStore } = require('../src/datastore/datastore'));
    > 36 | 		const classes = initSchema(testSchema());
         | 		                ^
      37 | 		({ Comment, Model, Post } = classes as {
      38 | 			Comment: PersistentModelConstructor<Comment>;
      39 | 			Model: PersistentModelConstructor<Model>;

      at __tests__/DataStore.ts:36:19
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:34:13)

  ‚óè DataStore observe, unmocked, with fake-indexeddb ‚Ä∫ subscribe to model instance

    TypeError: Cannot read property 'save' of undefined

      61 |
      62 | 	test('subscribe to model instance', async (done) => {
    > 63 | 		const original = await DataStore.save(
         | 		                                 ^
      64 | 			new Model({
      65 | 				field1: 'somevalue',
      66 | 				dateCreated: new Date().toISOString(),

      at __tests__/DataStore.ts:63:36
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:62:49)

  ‚óè DataStore observe, unmocked, with fake-indexeddb ‚Ä∫ subscribe to Model

    TypeError: initSchema is not a function

      34 | 	beforeEach(async () => {
      35 | 		({ initSchema, DataStore } = require('../src/datastore/datastore'));
    > 36 | 		const classes = initSchema(testSchema());
         | 		                ^
      37 | 		({ Comment, Model, Post } = classes as {
      38 | 			Comment: PersistentModelConstructor<Comment>;
      39 | 			Model: PersistentModelConstructor<Model>;

      at __tests__/DataStore.ts:36:19
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:34:13)

  ‚óè DataStore observe, unmocked, with fake-indexeddb ‚Ä∫ subscribe to Model

    TypeError: Cannot read property 'save' of undefined

      94 |
      95 | 	test('subscribe to Model', async (done) => {
    > 96 | 		const original = await DataStore.save(
         | 		                                 ^
      97 | 			new Model({
      98 | 				field1: 'somevalue',
      99 | 				dateCreated: new Date().toISOString(),

      at __tests__/DataStore.ts:96:36
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:95:40)

  ‚óè DataStore observe, unmocked, with fake-indexeddb ‚Ä∫ subscribe with criteria

    TypeError: initSchema is not a function

      34 | 	beforeEach(async () => {
      35 | 		({ initSchema, DataStore } = require('../src/datastore/datastore'));
    > 36 | 		const classes = initSchema(testSchema());
         | 		                ^
      37 | 		({ Comment, Model, Post } = classes as {
      38 | 			Comment: PersistentModelConstructor<Comment>;
      39 | 			Model: PersistentModelConstructor<Model>;

      at __tests__/DataStore.ts:36:19
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:34:13)

  ‚óè DataStore observe, unmocked, with fake-indexeddb ‚Ä∫ subscribe with criteria

    TypeError: Cannot read property 'save' of undefined

      126 |
      127 | 	test('subscribe with criteria', async (done) => {
    > 128 | 		const original = await DataStore.save(
          | 		                                 ^
      129 | 			new Model({
      130 | 				field1: 'somevalue',
      131 | 				dateCreated: new Date().toISOString(),

      at __tests__/DataStore.ts:128:36
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:127:45)

  ‚óè DataStore observe, unmocked, with fake-indexeddb ‚Ä∫ subscribe with criteria on deletes

    TypeError: initSchema is not a function

      34 | 	beforeEach(async () => {
      35 | 		({ initSchema, DataStore } = require('../src/datastore/datastore'));
    > 36 | 		const classes = initSchema(testSchema());
         | 		                ^
      37 | 		({ Comment, Model, Post } = classes as {
      38 | 			Comment: PersistentModelConstructor<Comment>;
      39 | 			Model: PersistentModelConstructor<Model>;

      at __tests__/DataStore.ts:36:19
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:34:13)

  ‚óè DataStore observe, unmocked, with fake-indexeddb ‚Ä∫ subscribe with criteria on deletes

    TypeError: Cannot read property 'save' of undefined

      159 |
      160 | 	test('subscribe with criteria on deletes', async (done) => {
    > 161 | 		const original = await DataStore.save(
          | 		                                 ^
      162 | 			new Model({
      163 | 				field1: 'somevalue',
      164 | 				dateCreated: new Date().toISOString(),

      at __tests__/DataStore.ts:161:36
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:160:56)

  ‚óè DataStore observe, unmocked, with fake-indexeddb ‚Ä∫ subscribe with belongsTo criteria

    TypeError: initSchema is not a function

      34 | 	beforeEach(async () => {
      35 | 		({ initSchema, DataStore } = require('../src/datastore/datastore'));
    > 36 | 		const classes = initSchema(testSchema());
         | 		                ^
      37 | 		({ Comment, Model, Post } = classes as {
      38 | 			Comment: PersistentModelConstructor<Comment>;
      39 | 			Model: PersistentModelConstructor<Model>;

      at __tests__/DataStore.ts:36:19
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:34:13)

  ‚óè DataStore observe, unmocked, with fake-indexeddb ‚Ä∫ subscribe with belongsTo criteria

    TypeError: Cannot read property 'save' of undefined

      190 |
      191 | 	test('subscribe with belongsTo criteria', async (done) => {
    > 192 | 		const targetPost = await DataStore.save(
          | 		                                   ^
      193 | 			new Post({
      194 | 				title: 'this is my post. hooray!',
      195 | 			})

      at __tests__/DataStore.ts:192:38
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:191:55)

  ‚óè DataStore observe, unmocked, with fake-indexeddb ‚Ä∫ subscribe with hasMany criteria

    TypeError: initSchema is not a function

      34 | 	beforeEach(async () => {
      35 | 		({ initSchema, DataStore } = require('../src/datastore/datastore'));
    > 36 | 		const classes = initSchema(testSchema());
         | 		                ^
      37 | 		({ Comment, Model, Post } = classes as {
      38 | 			Comment: PersistentModelConstructor<Comment>;
      39 | 			Model: PersistentModelConstructor<Model>;

      at __tests__/DataStore.ts:36:19
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:34:13)

  ‚óè DataStore observe, unmocked, with fake-indexeddb ‚Ä∫ subscribe with hasMany criteria

    TypeError: Cannot read property 'save' of undefined

      230 | 		// somewhat "buried" alongside other comments.
      231 |
    > 232 | 		const targetPost = await DataStore.save(
          | 		                                   ^
      233 | 			new Post({
      234 | 				title: 'this is my post. hooray!',
      235 | 			})

      at __tests__/DataStore.ts:232:38
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:227:53)

  ‚óè DataStore observeQuery, with fake-indexeddb and fake sync ‚Ä∫ publishes preexisting local data immediately

    TypeError: initSchema is not a function

      314 | 	beforeEach(async () => {
      315 | 		({ initSchema, DataStore } = require('../src/datastore/datastore'));
    > 316 | 		const classes = initSchema(testSchema());
          | 		                ^
      317 | 		({ Comment, Post } = classes as {
      318 | 			Comment: PersistentModelConstructor<Comment>;
      319 | 			Post: PersistentModelConstructor<Post>;

      at __tests__/DataStore.ts:316:19
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:314:13)

  ‚óè DataStore observeQuery, with fake-indexeddb and fake sync ‚Ä∫ publishes preexisting local data immediately

    TypeError: Cannot read property 'save' of undefined

      342 | 	test('publishes preexisting local data immediately', async (done) => {
      343 | 		for (let i = 0; i < 5; i++) {
    > 344 | 			await DataStore.save(
          | 			                ^
      345 | 				new Post({
      346 | 					title: `the post ${i}`,
      347 | 				})

      at __tests__/DataStore.ts:344:20
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:342:66)

  ‚óè DataStore observeQuery, with fake-indexeddb and fake sync ‚Ä∫ publishes data saved after sync

    TypeError: initSchema is not a function

      314 | 	beforeEach(async () => {
      315 | 		({ initSchema, DataStore } = require('../src/datastore/datastore'));
    > 316 | 		const classes = initSchema(testSchema());
          | 		                ^
      317 | 		({ Comment, Post } = classes as {
      318 | 			Comment: PersistentModelConstructor<Comment>;
      319 | 			Post: PersistentModelConstructor<Post>;

      at __tests__/DataStore.ts:316:19
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:314:13)

  ‚óè DataStore observeQuery, with fake-indexeddb and fake sync ‚Ä∫ publishes data saved after sync

    TypeError: Cannot read property 'observeQuery' of undefined

      362 | 		const expecteds = [0, 10];
      363 |
    > 364 | 		const sub = DataStore.observeQuery(Post).subscribe(
          | 		                      ^
      365 | 			({ items, isSynced }) => {
      366 | 				const expected = expecteds.shift() || 0;
      367 | 				expect(items.length).toBe(expected);

      at __tests__/DataStore.ts:364:25
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:361:53)

  ‚óè DataStore observeQuery, with fake-indexeddb and fake sync ‚Ä∫ publishes preexisting local data AND follows up with subsequent saves

    TypeError: initSchema is not a function

      314 | 	beforeEach(async () => {
      315 | 		({ initSchema, DataStore } = require('../src/datastore/datastore'));
    > 316 | 		const classes = initSchema(testSchema());
          | 		                ^
      317 | 		({ Comment, Post } = classes as {
      318 | 			Comment: PersistentModelConstructor<Comment>;
      319 | 			Post: PersistentModelConstructor<Post>;

      at __tests__/DataStore.ts:316:19
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:314:13)

  ‚óè DataStore observeQuery, with fake-indexeddb and fake sync ‚Ä∫ publishes preexisting local data AND follows up with subsequent saves

    TypeError: Cannot read property 'save' of undefined

      393 |
      394 | 		for (let i = 0; i < 5; i++) {
    > 395 | 			await DataStore.save(
          | 			                ^
      396 | 				new Post({
      397 | 					title: `the post ${i}`,
      398 | 				})

      at __tests__/DataStore.ts:395:20
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:391:91)

  ‚óè DataStore observeQuery, with fake-indexeddb and fake sync ‚Ä∫ publishes received in pages data until isSynced

    TypeError: initSchema is not a function

      314 | 	beforeEach(async () => {
      315 | 		({ initSchema, DataStore } = require('../src/datastore/datastore'));
    > 316 | 		const classes = initSchema(testSchema());
          | 		                ^
      317 | 		({ Comment, Post } = classes as {
      318 | 			Comment: PersistentModelConstructor<Comment>;
      319 | 			Post: PersistentModelConstructor<Post>;

      at __tests__/DataStore.ts:316:19
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:314:13)

  ‚óè DataStore observeQuery, with fake-indexeddb and fake sync ‚Ä∫ publishes received in pages data until isSynced

    TypeError: Cannot read property 'save' of undefined

      431 |
      432 | 		for (let i = 0; i < 5; i++) {
    > 433 | 			await DataStore.save(
          | 			                ^
      434 | 				new Post({
      435 | 					title: `the post ${i}`,
      436 | 				})

      at __tests__/DataStore.ts:433:20
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:429:69)

  ‚óè DataStore observeQuery, with fake-indexeddb and fake sync ‚Ä∫ publishes received records individually after isSynced

    TypeError: initSchema is not a function

      314 | 	beforeEach(async () => {
      315 | 		({ initSchema, DataStore } = require('../src/datastore/datastore'));
    > 316 | 		const classes = initSchema(testSchema());
          | 		                ^
      317 | 		({ Comment, Post } = classes as {
      318 | 			Comment: PersistentModelConstructor<Comment>;
      319 | 			Post: PersistentModelConstructor<Post>;

      at __tests__/DataStore.ts:316:19
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:314:13)

  ‚óè DataStore observeQuery, with fake-indexeddb and fake sync ‚Ä∫ publishes received records individually after isSynced

    TypeError: Cannot read property 'save' of undefined

      481 |
      482 | 		for (let i = 0; i < 5; i++) {
    > 483 | 			await DataStore.save(
          | 			                ^
      484 | 				new Post({
      485 | 					title: `the post ${i}`,
      486 | 				})

      at __tests__/DataStore.ts:483:20
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:479:76)

  ‚óè DataStore observeQuery, with fake-indexeddb and fake sync ‚Ä∫ publishes preexisting local data AND follows up with subsequent saves with filters

    TypeError: initSchema is not a function

      314 | 	beforeEach(async () => {
      315 | 		({ initSchema, DataStore } = require('../src/datastore/datastore'));
    > 316 | 		const classes = initSchema(testSchema());
          | 		                ^
      317 | 		({ Comment, Post } = classes as {
      318 | 			Comment: PersistentModelConstructor<Comment>;
      319 | 			Post: PersistentModelConstructor<Post>;

      at __tests__/DataStore.ts:316:19
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:314:13)

  ‚óè DataStore observeQuery, with fake-indexeddb and fake sync ‚Ä∫ publishes preexisting local data AND follows up with subsequent saves with filters

    TypeError: Cannot read property 'save' of undefined

      533 |
      534 | 		for (let i = 0; i < 5; i++) {
    > 535 | 			await DataStore.save(
          | 			                ^
      536 | 				new Post({
      537 | 					title: `the post ${i}`,
      538 | 				})

      at __tests__/DataStore.ts:535:20
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:531:104)

  ‚óè DataStore observeQuery, with fake-indexeddb and fake sync ‚Ä∫ publishes with hasMany criteria

    TypeError: initSchema is not a function

      314 | 	beforeEach(async () => {
      315 | 		({ initSchema, DataStore } = require('../src/datastore/datastore'));
    > 316 | 		const classes = initSchema(testSchema());
          | 		                ^
      317 | 		({ Comment, Post } = classes as {
      318 | 			Comment: PersistentModelConstructor<Comment>;
      319 | 			Post: PersistentModelConstructor<Post>;

      at __tests__/DataStore.ts:316:19
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:314:13)

  ‚óè DataStore observeQuery, with fake-indexeddb and fake sync ‚Ä∫ publishes with hasMany criteria

    TypeError: Cannot read property 'save' of undefined

      584 | 		const expectedMessages = ['this is my post. hooray!', 'expected update'];
      585 |
    > 586 | 		const targetPost = await DataStore.save(
          | 		                                   ^
      587 | 			new Post({
      588 | 				title: 'this is my post. hooray!',
      589 | 			})

      at __tests__/DataStore.ts:586:38
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:579:53)

  ‚óè DataStore tests ‚Ä∫ initSchema tests ‚Ä∫ Model class is created

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      664 |
      665 | 	describe('initSchema tests', () => {
    > 666 | 		test('Model class is created', () => {
          | 		^
      667 | 			const classes = initSchema(testSchema());
      668 |
      669 | 			expect(classes).toHaveProperty('Model');

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:666:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:665:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ initSchema tests ‚Ä∫ Model class is created

    TypeError: initSchema is not a function

      665 | 	describe('initSchema tests', () => {
      666 | 		test('Model class is created', () => {
    > 667 | 			const classes = initSchema(testSchema());
          | 			                ^
      668 |
      669 | 			expect(classes).toHaveProperty('Model');
      670 |

      at Object.<anonymous> (__tests__/DataStore.ts:667:20)

  ‚óè DataStore tests ‚Ä∫ initSchema tests ‚Ä∫ Model class can be instantiated

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      678 | 		});
      679 |
    > 680 | 		test('Model class can be instantiated', () => {
          | 		^
      681 | 			const { Model } = initSchema(testSchema()) as {
      682 | 				Model: PersistentModelConstructor<Model>;
      683 | 			};

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:680:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:665:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ initSchema tests ‚Ä∫ Model class can be instantiated

    TypeError: initSchema is not a function

      679 |
      680 | 		test('Model class can be instantiated', () => {
    > 681 | 			const { Model } = initSchema(testSchema()) as {
          | 			        ^
      682 | 				Model: PersistentModelConstructor<Model>;
      683 | 			};
      684 |

      at Object.<anonymous> (__tests__/DataStore.ts:681:12)

  ‚óè DataStore tests ‚Ä∫ initSchema tests ‚Ä∫ Non-syncable models get a ulid

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      696 | 		});
      697 |
    > 698 | 		test('Non-syncable models get a ulid', () => {
          | 		^
      699 | 			const { LocalModel } = initSchema(testSchema()) as {
      700 | 				LocalModel: PersistentModelConstructor<Model>;
      701 | 			};

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:698:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:665:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ initSchema tests ‚Ä∫ Non-syncable models get a ulid

    TypeError: initSchema is not a function

      697 |
      698 | 		test('Non-syncable models get a ulid', () => {
    > 699 | 			const { LocalModel } = initSchema(testSchema()) as {
          | 			        ^
      700 | 				LocalModel: PersistentModelConstructor<Model>;
      701 | 			};
      702 |

      at Object.<anonymous> (__tests__/DataStore.ts:699:12)

  ‚óè DataStore tests ‚Ä∫ initSchema tests ‚Ä∫ initSchema is executed only once

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      718 | 		});
      719 |
    > 720 | 		test('initSchema is executed only once', () => {
          | 		^
      721 | 			initSchema(testSchema());
      722 |
      723 | 			const spy = jest.spyOn(console, 'warn');

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:720:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:665:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ initSchema tests ‚Ä∫ initSchema is executed only once

    TypeError: initSchema is not a function

      719 |
      720 | 		test('initSchema is executed only once', () => {
    > 721 | 			initSchema(testSchema());
          | 			^
      722 |
      723 | 			const spy = jest.spyOn(console, 'warn');
      724 |

      at Object.<anonymous> (__tests__/DataStore.ts:721:4)

  ‚óè DataStore tests ‚Ä∫ initSchema tests ‚Ä∫ Non @model class is created

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      730 | 		});
      731 |
    > 732 | 		test('Non @model class is created', () => {
          | 		^
      733 | 			const classes = initSchema(testSchema());
      734 |
      735 | 			expect(classes).toHaveProperty('Metadata');

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:732:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:665:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ initSchema tests ‚Ä∫ Non @model class is created

    TypeError: initSchema is not a function

      731 |
      732 | 		test('Non @model class is created', () => {
    > 733 | 			const classes = initSchema(testSchema());
          | 			                ^
      734 |
      735 | 			expect(classes).toHaveProperty('Metadata');
      736 |

      at Object.<anonymous> (__tests__/DataStore.ts:733:20)

  ‚óè DataStore tests ‚Ä∫ initSchema tests ‚Ä∫ Non @model class can be instantiated

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      742 | 		});
      743 |
    > 744 | 		test('Non @model class can be instantiated', () => {
          | 		^
      745 | 			const { Metadata } = initSchema(testSchema()) as {
      746 | 				Metadata: NonModelTypeConstructor<Metadata>;
      747 | 			};

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:744:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:665:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ initSchema tests ‚Ä∫ Non @model class can be instantiated

    TypeError: initSchema is not a function

      743 |
      744 | 		test('Non @model class can be instantiated', () => {
    > 745 | 			const { Metadata } = initSchema(testSchema()) as {
          | 			        ^
      746 | 				Metadata: NonModelTypeConstructor<Metadata>;
      747 | 			};
      748 |

      at Object.<anonymous> (__tests__/DataStore.ts:745:12)

  ‚óè DataStore tests ‚Ä∫ Immutability ‚Ä∫ Field cannot be changed

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      762 |
      763 | 	describe('Immutability', () => {
    > 764 | 		test('Field cannot be changed', () => {
          | 		^
      765 | 			const { Model } = initSchema(testSchema()) as {
      766 | 				Model: PersistentModelConstructor<Model>;
      767 | 			};

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:764:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:763:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Immutability ‚Ä∫ Field cannot be changed

    TypeError: initSchema is not a function

      763 | 	describe('Immutability', () => {
      764 | 		test('Field cannot be changed', () => {
    > 765 | 			const { Model } = initSchema(testSchema()) as {
          | 			        ^
      766 | 				Model: PersistentModelConstructor<Model>;
      767 | 			};
      768 |

      at Object.<anonymous> (__tests__/DataStore.ts:765:12)

  ‚óè DataStore tests ‚Ä∫ Immutability ‚Ä∫ Model can be copied+edited by creating an edited copy

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      777 | 		});
      778 |
    > 779 | 		test('Model can be copied+edited by creating an edited copy', () => {
          | 		^
      780 | 			const { Model } = initSchema(testSchema()) as {
      781 | 				Model: PersistentModelConstructor<Model>;
      782 | 			};

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:779:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:763:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Immutability ‚Ä∫ Model can be copied+edited by creating an edited copy

    TypeError: initSchema is not a function

      778 |
      779 | 		test('Model can be copied+edited by creating an edited copy', () => {
    > 780 | 			const { Model } = initSchema(testSchema()) as {
          | 			        ^
      781 | 				Model: PersistentModelConstructor<Model>;
      782 | 			};
      783 |

      at Object.<anonymous> (__tests__/DataStore.ts:780:12)

  ‚óè DataStore tests ‚Ä∫ Immutability ‚Ä∫ Id cannot be changed inside copyOf

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      800 | 		});
      801 |
    > 802 | 		test('Id cannot be changed inside copyOf', () => {
          | 		^
      803 | 			const { Model } = initSchema(testSchema()) as {
      804 | 				Model: PersistentModelConstructor<Model>;
      805 | 			};

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:802:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:763:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Immutability ‚Ä∫ Id cannot be changed inside copyOf

    TypeError: initSchema is not a function

      801 |
      802 | 		test('Id cannot be changed inside copyOf', () => {
    > 803 | 			const { Model } = initSchema(testSchema()) as {
          | 			        ^
      804 | 				Model: PersistentModelConstructor<Model>;
      805 | 			};
      806 |

      at Object.<anonymous> (__tests__/DataStore.ts:803:12)

  ‚óè DataStore tests ‚Ä∫ Immutability ‚Ä∫ Optional field can be initialized with undefined

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      818 | 		});
      819 |
    > 820 | 		test('Optional field can be initialized with undefined', () => {
          | 		^
      821 | 			const { Model } = initSchema(testSchema()) as {
      822 | 				Model: PersistentModelConstructor<Model>;
      823 | 			};

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:820:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:763:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Immutability ‚Ä∫ Optional field can be initialized with undefined

    TypeError: initSchema is not a function

      819 |
      820 | 		test('Optional field can be initialized with undefined', () => {
    > 821 | 			const { Model } = initSchema(testSchema()) as {
          | 			        ^
      822 | 				Model: PersistentModelConstructor<Model>;
      823 | 			};
      824 |

      at Object.<anonymous> (__tests__/DataStore.ts:821:12)

  ‚óè DataStore tests ‚Ä∫ Immutability ‚Ä∫ Optional field can be changed to undefined inside copyOf

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      853 | 		});
      854 |
    > 855 | 		test('Optional field can be changed to undefined inside copyOf', () => {
          | 		^
      856 | 			const { Model } = initSchema(testSchema()) as {
      857 | 				Model: PersistentModelConstructor<Model>;
      858 | 			};

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:855:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:763:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Immutability ‚Ä∫ Optional field can be changed to undefined inside copyOf

    TypeError: initSchema is not a function

      854 |
      855 | 		test('Optional field can be changed to undefined inside copyOf', () => {
    > 856 | 			const { Model } = initSchema(testSchema()) as {
          | 			        ^
      857 | 				Model: PersistentModelConstructor<Model>;
      858 | 			};
      859 |

      at Object.<anonymous> (__tests__/DataStore.ts:856:12)

  ‚óè DataStore tests ‚Ä∫ Immutability ‚Ä∫ Optional field can be set to null inside copyOf

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      875 | 		});
      876 |
    > 877 | 		test('Optional field can be set to null inside copyOf', () => {
          | 		^
      878 | 			const { Model } = initSchema(testSchema()) as {
      879 | 				Model: PersistentModelConstructor<Model>;
      880 | 			};

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:877:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:763:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Immutability ‚Ä∫ Optional field can be set to null inside copyOf

    TypeError: initSchema is not a function

      876 |
      877 | 		test('Optional field can be set to null inside copyOf', () => {
    > 878 | 			const { Model } = initSchema(testSchema()) as {
          | 			        ^
      879 | 				Model: PersistentModelConstructor<Model>;
      880 | 			};
      881 |

      at Object.<anonymous> (__tests__/DataStore.ts:878:12)

  ‚óè DataStore tests ‚Ä∫ Immutability ‚Ä∫ Non @model - Field cannot be changed

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      896 | 		});
      897 |
    > 898 | 		test('Non @model - Field cannot be changed', () => {
          | 		^
      899 | 			const { Metadata } = initSchema(testSchema()) as {
      900 | 				Metadata: NonModelTypeConstructor<Metadata>;
      901 | 			};

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:898:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:763:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Immutability ‚Ä∫ Non @model - Field cannot be changed

    TypeError: initSchema is not a function

      897 |
      898 | 		test('Non @model - Field cannot be changed', () => {
    > 899 | 			const { Metadata } = initSchema(testSchema()) as {
          | 			        ^
      900 | 				Metadata: NonModelTypeConstructor<Metadata>;
      901 | 			};
      902 |

      at Object.<anonymous> (__tests__/DataStore.ts:899:12)

  ‚óè DataStore tests ‚Ä∫ Initialization ‚Ä∫ start is called only once

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      915 |
      916 | 	describe('Initialization', () => {
    > 917 | 		test('start is called only once', async () => {
          | 		^
      918 | 			const storage: StorageType =
      919 | 				require('../src/storage/storage').ExclusiveStorage;
      920 |

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:917:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:916:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Initialization ‚Ä∫ start is called only once

    TypeError: initSchema is not a function

      919 | 				require('../src/storage/storage').ExclusiveStorage;
      920 |
    > 921 | 			const classes = initSchema(testSchema());
          | 			                ^
      922 |
      923 | 			const { Model } = classes as { Model: PersistentModelConstructor<Model> };
      924 |

      at __tests__/DataStore.ts:921:20
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:917:37)

  ‚óè DataStore tests ‚Ä∫ Initialization ‚Ä∫ It is initialized when observing (no query)

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      935 | 		});
      936 |
    > 937 | 		test('It is initialized when observing (no query)', async () => {
          | 		^
      938 | 			const storage: StorageType =
      939 | 				require('../src/storage/storage').ExclusiveStorage;
      940 |

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:937:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:916:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Initialization ‚Ä∫ It is initialized when observing (no query)

    TypeError: initSchema is not a function

      939 | 				require('../src/storage/storage').ExclusiveStorage;
      940 |
    > 941 | 			const classes = initSchema(testSchema());
          | 			                ^
      942 |
      943 | 			const { Model } = classes as { Model: PersistentModelConstructor<Model> };
      944 |

      at __tests__/DataStore.ts:941:20
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:937:55)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Save returns the saved model

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      977 | 		});
      978 |
    > 979 | 		test('Save returns the saved model', async () => {
          | 		^
      980 | 			let model: Model;
      981 | 			const save = jest.fn(() => [model]);
      982 | 			const query = jest.fn(() => [model]);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:979:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:951:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Save returns the saved model

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      977 | 		});
      978 |
    > 979 | 		test('Save returns the saved model', async () => {
          | 		^
      980 | 			let model: Model;
      981 | 			const save = jest.fn(() => [model]);
      982 | 			const query = jest.fn(() => [model]);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:979:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:951:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Save returns the saved model

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      977 | 		});
      978 |
    > 979 | 		test('Save returns the saved model', async () => {
          | 		^
      980 | 			let model: Model;
      981 | 			const save = jest.fn(() => [model]);
      982 | 			const query = jest.fn(() => [model]);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:979:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:951:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Save returns the updated model and patches

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1020 | 		});
      1021 |
    > 1022 | 		test('Save returns the updated model and patches', async () => {
           | 		^
      1023 | 			let model: Model;
      1024 | 			const save = jest.fn(() => [model]);
      1025 | 			const query = jest.fn(() => [model]);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1022:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:951:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Save returns the updated model and patches

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1020 | 		});
      1021 |
    > 1022 | 		test('Save returns the updated model and patches', async () => {
           | 		^
      1023 | 			let model: Model;
      1024 | 			const save = jest.fn(() => [model]);
      1025 | 			const query = jest.fn(() => [model]);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1022:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:951:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Save returns the updated model and patches

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1020 | 		});
      1021 |
    > 1022 | 		test('Save returns the updated model and patches', async () => {
           | 		^
      1023 | 			let model: Model;
      1024 | 			const save = jest.fn(() => [model]);
      1025 | 			const query = jest.fn(() => [model]);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1022:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:951:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Save returns the updated model and patches - list field

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1073 | 		});
      1074 |
    > 1075 | 		test('Save returns the updated model and patches - list field', async () => {
           | 		^
      1076 | 			let model: Model;
      1077 | 			const save = jest.fn(() => [model]);
      1078 | 			const query = jest.fn(() => [model]);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1075:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:951:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Save returns the updated model and patches - list field

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1073 | 		});
      1074 |
    > 1075 | 		test('Save returns the updated model and patches - list field', async () => {
           | 		^
      1076 | 			let model: Model;
      1077 | 			const save = jest.fn(() => [model]);
      1078 | 			const query = jest.fn(() => [model]);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1075:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:951:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Save returns the updated model and patches - list field

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1073 | 		});
      1074 |
    > 1075 | 		test('Save returns the updated model and patches - list field', async () => {
           | 		^
      1076 | 			let model: Model;
      1077 | 			const save = jest.fn(() => [model]);
      1078 | 			const query = jest.fn(() => [model]);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1075:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:951:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Read-only fields cannot be overwritten

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1153 | 		});
      1154 |
    > 1155 | 		test('Read-only fields cannot be overwritten', async () => {
           | 		^
      1156 | 			let model: Model;
      1157 | 			const save = jest.fn(() => [model]);
      1158 | 			const query = jest.fn(() => [model]);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1155:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:951:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Read-only fields cannot be overwritten

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1153 | 		});
      1154 |
    > 1155 | 		test('Read-only fields cannot be overwritten', async () => {
           | 		^
      1156 | 			let model: Model;
      1157 | 			const save = jest.fn(() => [model]);
      1158 | 			const query = jest.fn(() => [model]);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1155:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:951:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Read-only fields cannot be overwritten

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1153 | 		});
      1154 |
    > 1155 | 		test('Read-only fields cannot be overwritten', async () => {
           | 		^
      1156 | 			let model: Model;
      1157 | 			const save = jest.fn(() => [model]);
      1158 | 			const query = jest.fn(() => [model]);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1155:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:951:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Instantiation validations

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1208 | 		});
      1209 |
    > 1210 | 		test('Instantiation validations', async () => {
           | 		^
      1211 | 			expect(() => {
      1212 | 				new Model({
      1213 | 					field1: undefined as unknown as string,

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1210:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:951:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Instantiation validations

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1208 | 		});
      1209 |
    > 1210 | 		test('Instantiation validations', async () => {
           | 		^
      1211 | 			expect(() => {
      1212 | 				new Model({
      1213 | 					field1: undefined as unknown as string,

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1210:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:951:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Instantiation validations

    expect(received).toThrowError(expected)

    Expected substring: "Field field1 is required"
    Received message:   "Model is not a constructor"

          1210 | 		test('Instantiation validations', async () => {
          1211 | 			expect(() => {
        > 1212 | 				new Model({
               | 				^
          1213 | 					field1: undefined as unknown as string,
          1214 | 					dateCreated: new Date().toISOString(),
          1215 | 				});

      at __tests__/DataStore.ts:1212:5
      at Object.<anonymous> (../../node_modules/expect/build/toThrowMatchers.js:81:11)
      at Object.throwingMatcher [as toThrowError] (../../node_modules/expect/build/index.js:342:33)
      at __tests__/DataStore.ts:1216:7
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:1210:37)
      at __tests__/DataStore.ts:1216:7
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:1210:37)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Delete params

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1499 | 		});
      1500 |
    > 1501 | 		test('Delete params', async () => {
           | 		^
      1502 | 			await expect(DataStore.delete(<any>undefined)).rejects.toThrow(
      1503 | 				'Model or Model Constructor required'
      1504 | 			);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1501:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:951:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Delete params

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1499 | 		});
      1500 |
    > 1501 | 		test('Delete params', async () => {
           | 		^
      1502 | 			await expect(DataStore.delete(<any>undefined)).rejects.toThrow(
      1503 | 				'Model or Model Constructor required'
      1504 | 			);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1501:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:951:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Delete params

    TypeError: Cannot read property 'delete' of undefined

      1500 |
      1501 | 		test('Delete params', async () => {
    > 1502 | 			await expect(DataStore.delete(<any>undefined)).rejects.toThrow(
           | 			                       ^
      1503 | 				'Model or Model Constructor required'
      1504 | 			);
      1505 |

      at __tests__/DataStore.ts:1502:27
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:1501:25)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Delete many returns many

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1531 | 		});
      1532 |
    > 1533 | 		test('Delete many returns many', async () => {
           | 		^
      1534 | 			const models: Model[] = [];
      1535 | 			const save = jest.fn((model) => {
      1536 | 				model instanceof Model && models.push(model);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1533:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:951:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Delete many returns many

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1531 | 		});
      1532 |
    > 1533 | 		test('Delete many returns many', async () => {
           | 		^
      1534 | 			const models: Model[] = [];
      1535 | 			const save = jest.fn((model) => {
      1536 | 				model instanceof Model && models.push(model);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1533:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:951:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Delete many returns many

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1531 | 		});
      1532 |
    > 1533 | 		test('Delete many returns many', async () => {
           | 		^
      1534 | 			const models: Model[] = [];
      1535 | 			const save = jest.fn((model) => {
      1536 | 				model instanceof Model && models.push(model);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1533:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:951:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Delete one returns one

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1592 | 		});
      1593 |
    > 1594 | 		test('Delete one returns one', async () => {
           | 		^
      1595 | 			let model: Model | undefined;
      1596 | 			const save = jest.fn((saved) => (model = saved));
      1597 | 			const query = jest.fn(() => [model]);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1594:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:951:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Delete one returns one

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1592 | 		});
      1593 |
    > 1594 | 		test('Delete one returns one', async () => {
           | 		^
      1595 | 			let model: Model | undefined;
      1596 | 			const save = jest.fn((saved) => (model = saved));
      1597 | 			const query = jest.fn(() => [model]);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1594:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:951:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Delete one returns one

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1592 | 		});
      1593 |
    > 1594 | 		test('Delete one returns one', async () => {
           | 		^
      1595 | 			let model: Model | undefined;
      1596 | 			const save = jest.fn((saved) => (model = saved));
      1597 | 			const query = jest.fn(() => [model]);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1594:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:951:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Query params

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1644 | 		});
      1645 |
    > 1646 | 		test('Query params', async () => {
           | 		^
      1647 | 			await expect(DataStore.query(<any>undefined)).rejects.toThrow(
      1648 | 				'Constructor is not for a valid model'
      1649 | 			);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1646:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:951:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Query params

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1644 | 		});
      1645 |
    > 1646 | 		test('Query params', async () => {
           | 		^
      1647 | 			await expect(DataStore.query(<any>undefined)).rejects.toThrow(
      1648 | 				'Constructor is not for a valid model'
      1649 | 			);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1646:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:951:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Basic operations ‚Ä∫ Query params

    TypeError: Cannot read property 'query' of undefined

      1645 |
      1646 | 		test('Query params', async () => {
    > 1647 | 			await expect(DataStore.query(<any>undefined)).rejects.toThrow(
           | 			                       ^
      1648 | 				'Constructor is not for a valid model'
      1649 | 			);
      1650 |

      at __tests__/DataStore.ts:1647:27
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:1646:24)

  ‚óè DataStore tests ‚Ä∫ non-@models can't be saved

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1675 | 	});
      1676 |
    > 1677 | 	test("non-@models can't be saved", async () => {
           | 	^
      1678 | 		const { Metadata } = initSchema(testSchema()) as {
      1679 | 			Metadata: NonModelTypeConstructor<Metadata>;
      1680 | 		};

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1677:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ non-@models can't be saved

    TypeError: initSchema is not a function

      1676 |
      1677 | 	test("non-@models can't be saved", async () => {
    > 1678 | 		const { Metadata } = initSchema(testSchema()) as {
           | 		                     ^
      1679 | 			Metadata: NonModelTypeConstructor<Metadata>;
      1680 | 		};
      1681 |

      at __tests__/DataStore.ts:1678:24
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:1677:37)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query ‚Ä∫ all

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1725 |
      1726 | 		describe('Query', () => {
    > 1727 | 			test('all', async () => {
           | 			^
      1728 | 				const allModels = await DataStore.query(Model);
      1729 | 				expectType<Model[]>(allModels);
      1730 | 				const [one] = allModels;

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1727:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1726:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query ‚Ä∫ all

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1725 |
      1726 | 		describe('Query', () => {
    > 1727 | 			test('all', async () => {
           | 			^
      1728 | 				const allModels = await DataStore.query(Model);
      1729 | 				expectType<Model[]>(allModels);
      1730 | 				const [one] = allModels;

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1727:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1726:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query ‚Ä∫ all

    TypeError: Cannot read property 'query' of undefined

      1726 | 		describe('Query', () => {
      1727 | 			test('all', async () => {
    > 1728 | 				const allModels = await DataStore.query(Model);
           | 				                                  ^
      1729 | 				expectType<Model[]>(allModels);
      1730 | 				const [one] = allModels;
      1731 | 				expect(one.field1).toBeDefined();

      at __tests__/DataStore.ts:1728:39
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:1727:16)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query ‚Ä∫ one by id

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1732 | 				expect(one).toBeInstanceOf(Model);
      1733 | 			});
    > 1734 | 			test('one by id', async () => {
           | 			^
      1735 | 				const oneModelById = await DataStore.query(Model, 'someid');
      1736 | 				expectType<Model | undefined>(oneModelById);
      1737 | 				expect(oneModelById?.field1).toBeDefined();

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1734:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1726:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query ‚Ä∫ one by id

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1732 | 				expect(one).toBeInstanceOf(Model);
      1733 | 			});
    > 1734 | 			test('one by id', async () => {
           | 			^
      1735 | 				const oneModelById = await DataStore.query(Model, 'someid');
      1736 | 				expectType<Model | undefined>(oneModelById);
      1737 | 				expect(oneModelById?.field1).toBeDefined();

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1734:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1726:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query ‚Ä∫ one by id

    TypeError: Cannot read property 'query' of undefined

      1733 | 			});
      1734 | 			test('one by id', async () => {
    > 1735 | 				const oneModelById = await DataStore.query(Model, 'someid');
           | 				                                     ^
      1736 | 				expectType<Model | undefined>(oneModelById);
      1737 | 				expect(oneModelById?.field1).toBeDefined();
      1738 | 				expect(oneModelById).toBeInstanceOf(Model);

      at __tests__/DataStore.ts:1735:42
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:1734:22)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query ‚Ä∫ with criteria

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1738 | 				expect(oneModelById).toBeInstanceOf(Model);
      1739 | 			});
    > 1740 | 			test('with criteria', async () => {
           | 			^
      1741 | 				const multiModelWithCriteria = await DataStore.query(Model, (c) =>
      1742 | 					c.field1.contains('something')
      1743 | 				);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1740:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1726:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query ‚Ä∫ with criteria

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1738 | 				expect(oneModelById).toBeInstanceOf(Model);
      1739 | 			});
    > 1740 | 			test('with criteria', async () => {
           | 			^
      1741 | 				const multiModelWithCriteria = await DataStore.query(Model, (c) =>
      1742 | 					c.field1.contains('something')
      1743 | 				);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1740:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1726:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query ‚Ä∫ with criteria

    TypeError: Cannot read property 'query' of undefined

      1739 | 			});
      1740 | 			test('with criteria', async () => {
    > 1741 | 				const multiModelWithCriteria = await DataStore.query(Model, (c) =>
           | 				                                               ^
      1742 | 					c.field1.contains('something')
      1743 | 				);
      1744 | 				expectType<Model[]>(multiModelWithCriteria);

      at __tests__/DataStore.ts:1741:52
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:1740:26)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query ‚Ä∫ with identity function criteria

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1747 | 				expect(one).toBeInstanceOf(Model);
      1748 | 			});
    > 1749 | 			test('with identity function criteria', async () => {
           | 			^
      1750 | 				const multiModelWithCriteria = await DataStore.query(Model, (c) => c);
      1751 | 				expectType<Model[]>(multiModelWithCriteria);
      1752 | 				const [one] = multiModelWithCriteria;

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1749:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1726:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query ‚Ä∫ with identity function criteria

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1747 | 				expect(one).toBeInstanceOf(Model);
      1748 | 			});
    > 1749 | 			test('with identity function criteria', async () => {
           | 			^
      1750 | 				const multiModelWithCriteria = await DataStore.query(Model, (c) => c);
      1751 | 				expectType<Model[]>(multiModelWithCriteria);
      1752 | 				const [one] = multiModelWithCriteria;

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1749:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1726:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query ‚Ä∫ with identity function criteria

    TypeError: Cannot read property 'query' of undefined

      1748 | 			});
      1749 | 			test('with identity function criteria', async () => {
    > 1750 | 				const multiModelWithCriteria = await DataStore.query(Model, (c) => c);
           | 				                                               ^
      1751 | 				expectType<Model[]>(multiModelWithCriteria);
      1752 | 				const [one] = multiModelWithCriteria;
      1753 | 				expect(one.field1).toBeDefined();

      at __tests__/DataStore.ts:1750:52
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:1749:44)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query ‚Ä∫ with pagination

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1754 | 				expect(one).toBeInstanceOf(Model);
      1755 | 			});
    > 1756 | 			test('with pagination', async () => {
           | 			^
      1757 | 				const allModelsPaginated = await DataStore.query(
      1758 | 					Model,
      1759 | 					Predicates.ALL,

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1756:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1726:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query ‚Ä∫ with pagination

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1754 | 				expect(one).toBeInstanceOf(Model);
      1755 | 			});
    > 1756 | 			test('with pagination', async () => {
           | 			^
      1757 | 				const allModelsPaginated = await DataStore.query(
      1758 | 					Model,
      1759 | 					Predicates.ALL,

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1756:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1726:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query ‚Ä∫ with pagination

    TypeError: Cannot read property 'query' of undefined

      1755 | 			});
      1756 | 			test('with pagination', async () => {
    > 1757 | 				const allModelsPaginated = await DataStore.query(
           | 				                                           ^
      1758 | 					Model,
      1759 | 					Predicates.ALL,
      1760 | 					{ page: 0, limit: 20 }

      at __tests__/DataStore.ts:1757:48
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:1756:28)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query with generic type ‚Ä∫ all

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1768 |
      1769 | 		describe('Query with generic type', () => {
    > 1770 | 			test('all', async () => {
           | 			^
      1771 | 				const allModels = await DataStore.query<Model>(Model);
      1772 | 				expectType<Model[]>(allModels);
      1773 | 				const [one] = allModels;

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1770:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1769:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query with generic type ‚Ä∫ all

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1768 |
      1769 | 		describe('Query with generic type', () => {
    > 1770 | 			test('all', async () => {
           | 			^
      1771 | 				const allModels = await DataStore.query<Model>(Model);
      1772 | 				expectType<Model[]>(allModels);
      1773 | 				const [one] = allModels;

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1770:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1769:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query with generic type ‚Ä∫ all

    TypeError: Cannot read property 'query' of undefined

      1769 | 		describe('Query with generic type', () => {
      1770 | 			test('all', async () => {
    > 1771 | 				const allModels = await DataStore.query<Model>(Model);
           | 				                                  ^
      1772 | 				expectType<Model[]>(allModels);
      1773 | 				const [one] = allModels;
      1774 | 				expect(one.field1).toBeDefined();

      at __tests__/DataStore.ts:1771:39
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:1770:16)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query with generic type ‚Ä∫ one by id

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1775 | 				expect(one).toBeInstanceOf(Model);
      1776 | 			});
    > 1777 | 			test('one by id', async () => {
           | 			^
      1778 | 				const oneModelById = await DataStore.query<Model>(Model, 'someid');
      1779 | 				expectType<Model | undefined>(oneModelById);
      1780 | 				expect(oneModelById?.field1).toBeDefined();

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1777:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1769:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query with generic type ‚Ä∫ one by id

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1775 | 				expect(one).toBeInstanceOf(Model);
      1776 | 			});
    > 1777 | 			test('one by id', async () => {
           | 			^
      1778 | 				const oneModelById = await DataStore.query<Model>(Model, 'someid');
      1779 | 				expectType<Model | undefined>(oneModelById);
      1780 | 				expect(oneModelById?.field1).toBeDefined();

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1777:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1769:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query with generic type ‚Ä∫ one by id

    TypeError: Cannot read property 'query' of undefined

      1776 | 			});
      1777 | 			test('one by id', async () => {
    > 1778 | 				const oneModelById = await DataStore.query<Model>(Model, 'someid');
           | 				                                     ^
      1779 | 				expectType<Model | undefined>(oneModelById);
      1780 | 				expect(oneModelById?.field1).toBeDefined();
      1781 | 				expect(oneModelById).toBeInstanceOf(Model);

      at __tests__/DataStore.ts:1778:42
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:1777:22)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query with generic type ‚Ä∫ with criteria

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1781 | 				expect(oneModelById).toBeInstanceOf(Model);
      1782 | 			});
    > 1783 | 			test('with criteria', async () => {
           | 			^
      1784 | 				const multiModelWithCriteria = await DataStore.query<Model>(
      1785 | 					Model,
      1786 | 					(c) => c.field1.contains('something')

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1783:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1769:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query with generic type ‚Ä∫ with criteria

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1781 | 				expect(oneModelById).toBeInstanceOf(Model);
      1782 | 			});
    > 1783 | 			test('with criteria', async () => {
           | 			^
      1784 | 				const multiModelWithCriteria = await DataStore.query<Model>(
      1785 | 					Model,
      1786 | 					(c) => c.field1.contains('something')

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1783:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1769:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query with generic type ‚Ä∫ with criteria

    TypeError: Cannot read property 'query' of undefined

      1782 | 			});
      1783 | 			test('with criteria', async () => {
    > 1784 | 				const multiModelWithCriteria = await DataStore.query<Model>(
           | 				                                               ^
      1785 | 					Model,
      1786 | 					(c) => c.field1.contains('something')
      1787 | 				);

      at __tests__/DataStore.ts:1784:52
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:1783:26)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query with generic type ‚Ä∫ with pagination

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1791 | 				expect(one).toBeInstanceOf(Model);
      1792 | 			});
    > 1793 | 			test('with pagination', async () => {
           | 			^
      1794 | 				const allModelsPaginated = await DataStore.query<Model>(
      1795 | 					Model,
      1796 | 					Predicates.ALL,

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1793:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1769:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query with generic type ‚Ä∫ with pagination

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1791 | 				expect(one).toBeInstanceOf(Model);
      1792 | 			});
    > 1793 | 			test('with pagination', async () => {
           | 			^
      1794 | 				const allModelsPaginated = await DataStore.query<Model>(
      1795 | 					Model,
      1796 | 					Predicates.ALL,

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1793:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1769:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Query with generic type ‚Ä∫ with pagination

    TypeError: Cannot read property 'query' of undefined

      1792 | 			});
      1793 | 			test('with pagination', async () => {
    > 1794 | 				const allModelsPaginated = await DataStore.query<Model>(
           | 				                                           ^
      1795 | 					Model,
      1796 | 					Predicates.ALL,
      1797 | 					{ page: 0, limit: 20 }

      at __tests__/DataStore.ts:1794:48
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:1793:28)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe ‚Ä∫ subscribe to all models

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1805 |
      1806 | 		describe('Observe', () => {
    > 1807 | 			test('subscribe to all models', async () => {
           | 			^
      1808 | 				DataStore.observe().subscribe(({ element, model }) => {
      1809 | 					expectType<PersistentModelConstructor<PersistentModel>>(model);
      1810 | 					expectType<PersistentModel>(element);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1807:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1806:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe ‚Ä∫ subscribe to all models

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1805 |
      1806 | 		describe('Observe', () => {
    > 1807 | 			test('subscribe to all models', async () => {
           | 			^
      1808 | 				DataStore.observe().subscribe(({ element, model }) => {
      1809 | 					expectType<PersistentModelConstructor<PersistentModel>>(model);
      1810 | 					expectType<PersistentModel>(element);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1807:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1806:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe ‚Ä∫ subscribe to all models

    TypeError: Cannot read property 'observe' of undefined

      1806 | 		describe('Observe', () => {
      1807 | 			test('subscribe to all models', async () => {
    > 1808 | 				DataStore.observe().subscribe(({ element, model }) => {
           | 				          ^
      1809 | 					expectType<PersistentModelConstructor<PersistentModel>>(model);
      1810 | 					expectType<PersistentModel>(element);
      1811 | 				});

      at __tests__/DataStore.ts:1808:15
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:1807:36)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe ‚Ä∫ subscribe to model instance

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1811 | 				});
      1812 | 			});
    > 1813 | 			test('subscribe to model instance', async () => {
           | 			^
      1814 | 				const model = new Model({
      1815 | 					field1: 'somevalue',
      1816 | 					dateCreated: new Date().toISOString(),

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1813:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1806:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe ‚Ä∫ subscribe to model instance

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1811 | 				});
      1812 | 			});
    > 1813 | 			test('subscribe to model instance', async () => {
           | 			^
      1814 | 				const model = new Model({
      1815 | 					field1: 'somevalue',
      1816 | 					dateCreated: new Date().toISOString(),

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1813:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1806:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe ‚Ä∫ subscribe to model instance

    TypeError: Model is not a constructor

      1812 | 			});
      1813 | 			test('subscribe to model instance', async () => {
    > 1814 | 				const model = new Model({
           | 				              ^
      1815 | 					field1: 'somevalue',
      1816 | 					dateCreated: new Date().toISOString(),
      1817 | 				});

      at __tests__/DataStore.ts:1814:19
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:1813:40)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe ‚Ä∫ subscribe to model

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1822 | 				});
      1823 | 			});
    > 1824 | 			test('subscribe to model', async () => {
           | 			^
      1825 | 				DataStore.observe(Model).subscribe(({ element, model }) => {
      1826 | 					expectType<PersistentModelConstructor<Model>>(model);
      1827 | 					expectType<Model>(element);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1824:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1806:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe ‚Ä∫ subscribe to model

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1822 | 				});
      1823 | 			});
    > 1824 | 			test('subscribe to model', async () => {
           | 			^
      1825 | 				DataStore.observe(Model).subscribe(({ element, model }) => {
      1826 | 					expectType<PersistentModelConstructor<Model>>(model);
      1827 | 					expectType<Model>(element);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1824:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1806:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe ‚Ä∫ subscribe to model

    TypeError: Cannot read property 'observe' of undefined

      1823 | 			});
      1824 | 			test('subscribe to model', async () => {
    > 1825 | 				DataStore.observe(Model).subscribe(({ element, model }) => {
           | 				          ^
      1826 | 					expectType<PersistentModelConstructor<Model>>(model);
      1827 | 					expectType<Model>(element);
      1828 | 				});

      at __tests__/DataStore.ts:1825:15
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:1824:31)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe ‚Ä∫ subscribe to model instance by id

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1828 | 				});
      1829 | 			});
    > 1830 | 			test('subscribe to model instance by id', async () => {
           | 			^
      1831 | 				DataStore.observe(Model, 'some id').subscribe(({ element, model }) => {
      1832 | 					expectType<PersistentModelConstructor<Model>>(model);
      1833 | 					expectType<Model>(element);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1830:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1806:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe ‚Ä∫ subscribe to model instance by id

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1828 | 				});
      1829 | 			});
    > 1830 | 			test('subscribe to model instance by id', async () => {
           | 			^
      1831 | 				DataStore.observe(Model, 'some id').subscribe(({ element, model }) => {
      1832 | 					expectType<PersistentModelConstructor<Model>>(model);
      1833 | 					expectType<Model>(element);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1830:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1806:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe ‚Ä∫ subscribe to model instance by id

    TypeError: Cannot read property 'observe' of undefined

      1829 | 			});
      1830 | 			test('subscribe to model instance by id', async () => {
    > 1831 | 				DataStore.observe(Model, 'some id').subscribe(({ element, model }) => {
           | 				          ^
      1832 | 					expectType<PersistentModelConstructor<Model>>(model);
      1833 | 					expectType<Model>(element);
      1834 | 				});

      at __tests__/DataStore.ts:1831:15
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:1830:46)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe ‚Ä∫ subscribe to model with criteria

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1834 | 				});
      1835 | 			});
    > 1836 | 			test('subscribe to model with criteria', async () => {
           | 			^
      1837 | 				DataStore.observe(Model, (c) => c.field1.ne('somevalue')).subscribe(
      1838 | 					({ element, model }) => {
      1839 | 						expectType<PersistentModelConstructor<Model>>(model);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1836:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1806:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe ‚Ä∫ subscribe to model with criteria

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1834 | 				});
      1835 | 			});
    > 1836 | 			test('subscribe to model with criteria', async () => {
           | 			^
      1837 | 				DataStore.observe(Model, (c) => c.field1.ne('somevalue')).subscribe(
      1838 | 					({ element, model }) => {
      1839 | 						expectType<PersistentModelConstructor<Model>>(model);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1836:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1806:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe ‚Ä∫ subscribe to model with criteria

    TypeError: Cannot read property 'observe' of undefined

      1835 | 			});
      1836 | 			test('subscribe to model with criteria', async () => {
    > 1837 | 				DataStore.observe(Model, (c) => c.field1.ne('somevalue')).subscribe(
           | 				          ^
      1838 | 					({ element, model }) => {
      1839 | 						expectType<PersistentModelConstructor<Model>>(model);
      1840 | 						expectType<Model>(element);

      at __tests__/DataStore.ts:1837:15
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:1836:45)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe with generic type ‚Ä∫ subscribe to model instance

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1845 |
      1846 | 		describe('Observe with generic type', () => {
    > 1847 | 			test('subscribe to model instance', async () => {
           | 			^
      1848 | 				const model = new Model({
      1849 | 					field1: 'somevalue',
      1850 | 					dateCreated: new Date().toISOString(),

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1847:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1846:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe with generic type ‚Ä∫ subscribe to model instance

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1845 |
      1846 | 		describe('Observe with generic type', () => {
    > 1847 | 			test('subscribe to model instance', async () => {
           | 			^
      1848 | 				const model = new Model({
      1849 | 					field1: 'somevalue',
      1850 | 					dateCreated: new Date().toISOString(),

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1847:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1846:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe with generic type ‚Ä∫ subscribe to model instance

    TypeError: Model is not a constructor

      1846 | 		describe('Observe with generic type', () => {
      1847 | 			test('subscribe to model instance', async () => {
    > 1848 | 				const model = new Model({
           | 				              ^
      1849 | 					field1: 'somevalue',
      1850 | 					dateCreated: new Date().toISOString(),
      1851 | 				});

      at __tests__/DataStore.ts:1848:19
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:1847:40)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe with generic type ‚Ä∫ subscribe to model

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1856 | 				});
      1857 | 			});
    > 1858 | 			test('subscribe to model', async () => {
           | 			^
      1859 | 				DataStore.observe<Model>(Model).subscribe(({ element, model }) => {
      1860 | 					expectType<PersistentModelConstructor<Model>>(model);
      1861 | 					expectType<Model>(element);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1858:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1846:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe with generic type ‚Ä∫ subscribe to model

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1856 | 				});
      1857 | 			});
    > 1858 | 			test('subscribe to model', async () => {
           | 			^
      1859 | 				DataStore.observe<Model>(Model).subscribe(({ element, model }) => {
      1860 | 					expectType<PersistentModelConstructor<Model>>(model);
      1861 | 					expectType<Model>(element);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1858:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1846:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe with generic type ‚Ä∫ subscribe to model

    TypeError: Cannot read property 'observe' of undefined

      1857 | 			});
      1858 | 			test('subscribe to model', async () => {
    > 1859 | 				DataStore.observe<Model>(Model).subscribe(({ element, model }) => {
           | 				          ^
      1860 | 					expectType<PersistentModelConstructor<Model>>(model);
      1861 | 					expectType<Model>(element);
      1862 | 				});

      at __tests__/DataStore.ts:1859:15
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:1858:31)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe with generic type ‚Ä∫ subscribe to model instance by id

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1862 | 				});
      1863 | 			});
    > 1864 | 			test('subscribe to model instance by id', async () => {
           | 			^
      1865 | 				DataStore.observe<Model>(Model, 'some id').subscribe(
      1866 | 					({ element, model }) => {
      1867 | 						expectType<PersistentModelConstructor<Model>>(model);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1864:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1846:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe with generic type ‚Ä∫ subscribe to model instance by id

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1862 | 				});
      1863 | 			});
    > 1864 | 			test('subscribe to model instance by id', async () => {
           | 			^
      1865 | 				DataStore.observe<Model>(Model, 'some id').subscribe(
      1866 | 					({ element, model }) => {
      1867 | 						expectType<PersistentModelConstructor<Model>>(model);

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1864:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1846:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe with generic type ‚Ä∫ subscribe to model instance by id

    TypeError: Cannot read property 'observe' of undefined

      1863 | 			});
      1864 | 			test('subscribe to model instance by id', async () => {
    > 1865 | 				DataStore.observe<Model>(Model, 'some id').subscribe(
           | 				          ^
      1866 | 					({ element, model }) => {
      1867 | 						expectType<PersistentModelConstructor<Model>>(model);
      1868 | 						expectType<Model>(element);

      at __tests__/DataStore.ts:1865:15
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:1864:46)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe with generic type ‚Ä∫ subscribe to model with criteria

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1870 | 				);
      1871 | 			});
    > 1872 | 			test('subscribe to model with criteria', async () => {
           | 			^
      1873 | 				DataStore.observe<Model>(Model, (c) =>
      1874 | 					c.field1.ne('somevalue')
      1875 | 				).subscribe(({ element, model }) => {

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1872:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1846:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe with generic type ‚Ä∫ subscribe to model with criteria

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m16[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'observer' has no initializer and is not definitely assigned in the constructor.

    [7m16[0m  private observer: ZenObservable.SubscriptionObserver<ConnectionStatus>;
    [7m  [0m [91m         ~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m17[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'subscription' has no initializer and is not definitely assigned in the constructor.

    [7m17[0m  private subscription: ZenObservable.Subscription;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/datastoreConnectivity.ts[0m:[93m18[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'timeout' has no initializer and is not definitely assigned in the constructor.

    [7m18[0m  private timeout: ReturnType<typeof setTimeout>;
    [7m  [0m [91m         ~~~~~~~[0m

      1870 | 				);
      1871 | 			});
    > 1872 | 			test('subscribe to model with criteria', async () => {
           | 			^
      1873 | 				DataStore.observe<Model>(Model, (c) =>
      1874 | 					c.field1.ne('somevalue')
      1875 | 				).subscribe(({ element, model }) => {

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/DataStore.ts:1872:4)
      at Suite.<anonymous> (__tests__/DataStore.ts:1846:3)
      at Suite.<anonymous> (__tests__/DataStore.ts:1695:2)
      at Object.<anonymous> (__tests__/DataStore.ts:645:1)

  ‚óè DataStore tests ‚Ä∫ Type definitions ‚Ä∫ Observe with generic type ‚Ä∫ subscribe to model with criteria

    TypeError: Cannot read property 'observe' of undefined

      1871 | 			});
      1872 | 			test('subscribe to model with criteria', async () => {
    > 1873 | 				DataStore.observe<Model>(Model, (c) =>
           | 				          ^
      1874 | 					c.field1.ne('somevalue')
      1875 | 				).subscribe(({ element, model }) => {
      1876 | 					expectType<PersistentModelConstructor<Model>>(model);

      at __tests__/DataStore.ts:1873:15
      at step (__tests__/DataStore.ts:33:23)
      at Object.next (__tests__/DataStore.ts:14:53)
      at __tests__/DataStore.ts:8:71
      at Object.<anonymous>.__awaiter (__tests__/DataStore.ts:4:12)
      at Object.<anonymous> (__tests__/DataStore.ts:1872:45)

FAIL __tests__/sync.test.ts
  ‚óè Sync ‚Ä∫ jitteredRetry ‚Ä∫ should return all data

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/processors/sync.ts[0m:[93m66[0m:[93m4[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'Partial<GraphQLField> | Partial<{ and: (Partial<GraphQLField> | Partial<...> | Partial<{ or: (Partial<GraphQLField> | Partial<...> | Partial<...> | Partial<...>)[]; }> | Partial<...>)[]; }> | Partial<...> | Partial<...>'.

    [7m66[0m  		return null;
    [7m  [0m [91m 		~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m69[0m:[93m4[0m - [91merror[0m[90m TS2345: [0mArgument of type 'ModelPredicate<any> | undefined' is not assignable to parameter of type 'ModelPredicate<any>'.
      Type 'undefined' is not assignable to type 'ModelPredicate<any>'.
        Type 'undefined' is not assignable to type '{ [x: string]: (operator: never, operand: never) => ModelPredicate<any>; }'.

    [7m69[0m  		this.syncPredicates.get(model),
    [7m  [0m [91m 		~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m74[0m:[93m4[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'Partial<GraphQLField> | Partial<{ and: (Partial<GraphQLField> | Partial<...> | Partial<{ or: (Partial<GraphQLField> | Partial<...> | Partial<...> | Partial<...>)[]; }> | Partial<...>)[]; }> | Partial<...> | Partial<...>'.

    [7m74[0m  		return null;
    [7m  [0m [91m 		~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m86[0m:[93m3[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'number'.

    [7m86[0m  	limit: number = null,
    [7m  [0m [91m 	~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m293[0m:[93m7[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m293[0m  					namespace.modelTopologicalOrdering.keys()
    [7m   [0m [91m 					~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m296[0m:[93m44[0m - [91merror[0m[90m TS2345: [0mArgument of type '[string, number] | undefined' is not assignable to parameter of type '[string, number]'.
      Type 'undefined' is not assignable to type '[string, number]'.

    [7m296[0m  					map.set(namespace.models[modelName], typeLastSync);
    [7m   [0m [91m 					                                     ~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m307[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'string'.

    [7m307[0m  				let nextToken: string = null;
    [7m   [0m [91m 				    ~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m308[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'number'.

    [7m308[0m  				let startedAt: number = null;
    [7m   [0m [91m 				    ~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m309[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'ModelInstanceMetadata[]'.

    [7m309[0m  				let items: ModelInstanceMetadata[] = null;
    [7m   [0m [91m 				    ~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m314[0m:[93m22[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m314[0m  				const parents = this.schema.namespaces[
    [7m   [0m [91m 				                ~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m315[0m  					namespace
    [7m   [0m [91m~~~~~~~~~~~~~~~[0m
    [7m316[0m  				].modelTopologicalOrdering.get(modelDefinition.name);
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m317[0m:[93m23[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m317[0m  				const promises = parents.map(parent =>
    [7m   [0m [91m 				                 ~~~~~~~[0m

      54 | 		});
      55 |
    > 56 | 		it('should return all data', async () => {
         | 		^
      57 | 			window.sessionStorage.setItem('datastorePartialData', 'true');
      58 | 			const resolveResponse = {
      59 | 				data: {

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/sync.test.ts:56:3)
      at Suite.<anonymous> (__tests__/sync.test.ts:30:2)
      at Object.<anonymous> (__tests__/sync.test.ts:29:1)

  ‚óè Sync ‚Ä∫ jitteredRetry ‚Ä∫ should return partial data and send Hub event when datastorePartialData is set

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/processors/sync.ts[0m:[93m66[0m:[93m4[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'Partial<GraphQLField> | Partial<{ and: (Partial<GraphQLField> | Partial<...> | Partial<{ or: (Partial<GraphQLField> | Partial<...> | Partial<...> | Partial<...>)[]; }> | Partial<...>)[]; }> | Partial<...> | Partial<...>'.

    [7m66[0m  		return null;
    [7m  [0m [91m 		~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m69[0m:[93m4[0m - [91merror[0m[90m TS2345: [0mArgument of type 'ModelPredicate<any> | undefined' is not assignable to parameter of type 'ModelPredicate<any>'.
      Type 'undefined' is not assignable to type 'ModelPredicate<any>'.
        Type 'undefined' is not assignable to type '{ [x: string]: (operator: never, operand: never) => ModelPredicate<any>; }'.

    [7m69[0m  		this.syncPredicates.get(model),
    [7m  [0m [91m 		~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m74[0m:[93m4[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'Partial<GraphQLField> | Partial<{ and: (Partial<GraphQLField> | Partial<...> | Partial<{ or: (Partial<GraphQLField> | Partial<...> | Partial<...> | Partial<...>)[]; }> | Partial<...>)[]; }> | Partial<...> | Partial<...>'.

    [7m74[0m  		return null;
    [7m  [0m [91m 		~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m86[0m:[93m3[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'number'.

    [7m86[0m  	limit: number = null,
    [7m  [0m [91m 	~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m293[0m:[93m7[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m293[0m  					namespace.modelTopologicalOrdering.keys()
    [7m   [0m [91m 					~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m296[0m:[93m44[0m - [91merror[0m[90m TS2345: [0mArgument of type '[string, number] | undefined' is not assignable to parameter of type '[string, number]'.
      Type 'undefined' is not assignable to type '[string, number]'.

    [7m296[0m  					map.set(namespace.models[modelName], typeLastSync);
    [7m   [0m [91m 					                                     ~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m307[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'string'.

    [7m307[0m  				let nextToken: string = null;
    [7m   [0m [91m 				    ~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m308[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'number'.

    [7m308[0m  				let startedAt: number = null;
    [7m   [0m [91m 				    ~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m309[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'ModelInstanceMetadata[]'.

    [7m309[0m  				let items: ModelInstanceMetadata[] = null;
    [7m   [0m [91m 				    ~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m314[0m:[93m22[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m314[0m  				const parents = this.schema.namespaces[
    [7m   [0m [91m 				                ~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m315[0m  					namespace
    [7m   [0m [91m~~~~~~~~~~~~~~~[0m
    [7m316[0m  				].modelTopologicalOrdering.get(modelDefinition.name);
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m317[0m:[93m23[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m317[0m  				const promises = parents.map(parent =>
    [7m   [0m [91m 				                 ~~~~~~~[0m

      87 | 		});
      88 |
    > 89 | 		it('should return partial data and send Hub event when datastorePartialData is set', async () => {
         | 		^
      90 | 			window.sessionStorage.setItem('datastorePartialData', 'true');
      91 | 			const rejectResponse = {
      92 | 				data: {

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/sync.test.ts:89:3)
      at Suite.<anonymous> (__tests__/sync.test.ts:30:2)
      at Object.<anonymous> (__tests__/sync.test.ts:29:1)

  ‚óè Sync ‚Ä∫ jitteredRetry ‚Ä∫ should throw error and NOT return data or send Hub event when datastorePartialData is not set

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/processors/sync.ts[0m:[93m66[0m:[93m4[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'Partial<GraphQLField> | Partial<{ and: (Partial<GraphQLField> | Partial<...> | Partial<{ or: (Partial<GraphQLField> | Partial<...> | Partial<...> | Partial<...>)[]; }> | Partial<...>)[]; }> | Partial<...> | Partial<...>'.

    [7m66[0m  		return null;
    [7m  [0m [91m 		~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m69[0m:[93m4[0m - [91merror[0m[90m TS2345: [0mArgument of type 'ModelPredicate<any> | undefined' is not assignable to parameter of type 'ModelPredicate<any>'.
      Type 'undefined' is not assignable to type 'ModelPredicate<any>'.
        Type 'undefined' is not assignable to type '{ [x: string]: (operator: never, operand: never) => ModelPredicate<any>; }'.

    [7m69[0m  		this.syncPredicates.get(model),
    [7m  [0m [91m 		~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m74[0m:[93m4[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'Partial<GraphQLField> | Partial<{ and: (Partial<GraphQLField> | Partial<...> | Partial<{ or: (Partial<GraphQLField> | Partial<...> | Partial<...> | Partial<...>)[]; }> | Partial<...>)[]; }> | Partial<...> | Partial<...>'.

    [7m74[0m  		return null;
    [7m  [0m [91m 		~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m86[0m:[93m3[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'number'.

    [7m86[0m  	limit: number = null,
    [7m  [0m [91m 	~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m293[0m:[93m7[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m293[0m  					namespace.modelTopologicalOrdering.keys()
    [7m   [0m [91m 					~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m296[0m:[93m44[0m - [91merror[0m[90m TS2345: [0mArgument of type '[string, number] | undefined' is not assignable to parameter of type '[string, number]'.
      Type 'undefined' is not assignable to type '[string, number]'.

    [7m296[0m  					map.set(namespace.models[modelName], typeLastSync);
    [7m   [0m [91m 					                                     ~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m307[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'string'.

    [7m307[0m  				let nextToken: string = null;
    [7m   [0m [91m 				    ~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m308[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'number'.

    [7m308[0m  				let startedAt: number = null;
    [7m   [0m [91m 				    ~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m309[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'ModelInstanceMetadata[]'.

    [7m309[0m  				let items: ModelInstanceMetadata[] = null;
    [7m   [0m [91m 				    ~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m314[0m:[93m22[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m314[0m  				const parents = this.schema.namespaces[
    [7m   [0m [91m 				                ~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m315[0m  					namespace
    [7m   [0m [91m~~~~~~~~~~~~~~~[0m
    [7m316[0m  				].modelTopologicalOrdering.get(modelDefinition.name);
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m317[0m:[93m23[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m317[0m  				const promises = parents.map(parent =>
    [7m   [0m [91m 				                 ~~~~~~~[0m

      148 | 		});
      149 |
    > 150 | 		it('should throw error and NOT return data or send Hub event when datastorePartialData is not set', async () => {
          | 		^
      151 | 			const rejectResponse = {
      152 | 				data: {
      153 | 					syncPosts: {

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/sync.test.ts:150:3)
      at Suite.<anonymous> (__tests__/sync.test.ts:30:2)
      at Object.<anonymous> (__tests__/sync.test.ts:29:1)

  ‚óè Sync ‚Ä∫ jitteredRetry ‚Ä∫ should throw error if no data is returned

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/processors/sync.ts[0m:[93m66[0m:[93m4[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'Partial<GraphQLField> | Partial<{ and: (Partial<GraphQLField> | Partial<...> | Partial<{ or: (Partial<GraphQLField> | Partial<...> | Partial<...> | Partial<...>)[]; }> | Partial<...>)[]; }> | Partial<...> | Partial<...>'.

    [7m66[0m  		return null;
    [7m  [0m [91m 		~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m69[0m:[93m4[0m - [91merror[0m[90m TS2345: [0mArgument of type 'ModelPredicate<any> | undefined' is not assignable to parameter of type 'ModelPredicate<any>'.
      Type 'undefined' is not assignable to type 'ModelPredicate<any>'.
        Type 'undefined' is not assignable to type '{ [x: string]: (operator: never, operand: never) => ModelPredicate<any>; }'.

    [7m69[0m  		this.syncPredicates.get(model),
    [7m  [0m [91m 		~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m74[0m:[93m4[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'Partial<GraphQLField> | Partial<{ and: (Partial<GraphQLField> | Partial<...> | Partial<{ or: (Partial<GraphQLField> | Partial<...> | Partial<...> | Partial<...>)[]; }> | Partial<...>)[]; }> | Partial<...> | Partial<...>'.

    [7m74[0m  		return null;
    [7m  [0m [91m 		~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m86[0m:[93m3[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'number'.

    [7m86[0m  	limit: number = null,
    [7m  [0m [91m 	~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m293[0m:[93m7[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m293[0m  					namespace.modelTopologicalOrdering.keys()
    [7m   [0m [91m 					~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m296[0m:[93m44[0m - [91merror[0m[90m TS2345: [0mArgument of type '[string, number] | undefined' is not assignable to parameter of type '[string, number]'.
      Type 'undefined' is not assignable to type '[string, number]'.

    [7m296[0m  					map.set(namespace.models[modelName], typeLastSync);
    [7m   [0m [91m 					                                     ~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m307[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'string'.

    [7m307[0m  				let nextToken: string = null;
    [7m   [0m [91m 				    ~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m308[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'number'.

    [7m308[0m  				let startedAt: number = null;
    [7m   [0m [91m 				    ~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m309[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'ModelInstanceMetadata[]'.

    [7m309[0m  				let items: ModelInstanceMetadata[] = null;
    [7m   [0m [91m 				    ~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m314[0m:[93m22[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m314[0m  				const parents = this.schema.namespaces[
    [7m   [0m [91m 				                ~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m315[0m  					namespace
    [7m   [0m [91m~~~~~~~~~~~~~~~[0m
    [7m316[0m  				].modelTopologicalOrdering.get(modelDefinition.name);
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m317[0m:[93m23[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m317[0m  				const promises = parents.map(parent =>
    [7m   [0m [91m 				                 ~~~~~~~[0m

      198 | 		});
      199 |
    > 200 | 		it('should throw error if no data is returned', async () => {
          | 		^
      201 | 			window.sessionStorage.setItem('datastorePartialData', 'true');
      202 | 			const rejectResponse = {
      203 | 				data: null,

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/sync.test.ts:200:3)
      at Suite.<anonymous> (__tests__/sync.test.ts:30:2)
      at Object.<anonymous> (__tests__/sync.test.ts:29:1)

  ‚óè Sync ‚Ä∫ jitteredRetry ‚Ä∫ should return NonRetryableError for 403 error

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/processors/sync.ts[0m:[93m66[0m:[93m4[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'Partial<GraphQLField> | Partial<{ and: (Partial<GraphQLField> | Partial<...> | Partial<{ or: (Partial<GraphQLField> | Partial<...> | Partial<...> | Partial<...>)[]; }> | Partial<...>)[]; }> | Partial<...> | Partial<...>'.

    [7m66[0m  		return null;
    [7m  [0m [91m 		~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m69[0m:[93m4[0m - [91merror[0m[90m TS2345: [0mArgument of type 'ModelPredicate<any> | undefined' is not assignable to parameter of type 'ModelPredicate<any>'.
      Type 'undefined' is not assignable to type 'ModelPredicate<any>'.
        Type 'undefined' is not assignable to type '{ [x: string]: (operator: never, operand: never) => ModelPredicate<any>; }'.

    [7m69[0m  		this.syncPredicates.get(model),
    [7m  [0m [91m 		~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m74[0m:[93m4[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'Partial<GraphQLField> | Partial<{ and: (Partial<GraphQLField> | Partial<...> | Partial<{ or: (Partial<GraphQLField> | Partial<...> | Partial<...> | Partial<...>)[]; }> | Partial<...>)[]; }> | Partial<...> | Partial<...>'.

    [7m74[0m  		return null;
    [7m  [0m [91m 		~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m86[0m:[93m3[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'number'.

    [7m86[0m  	limit: number = null,
    [7m  [0m [91m 	~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m293[0m:[93m7[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m293[0m  					namespace.modelTopologicalOrdering.keys()
    [7m   [0m [91m 					~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m296[0m:[93m44[0m - [91merror[0m[90m TS2345: [0mArgument of type '[string, number] | undefined' is not assignable to parameter of type '[string, number]'.
      Type 'undefined' is not assignable to type '[string, number]'.

    [7m296[0m  					map.set(namespace.models[modelName], typeLastSync);
    [7m   [0m [91m 					                                     ~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m307[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'string'.

    [7m307[0m  				let nextToken: string = null;
    [7m   [0m [91m 				    ~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m308[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'number'.

    [7m308[0m  				let startedAt: number = null;
    [7m   [0m [91m 				    ~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m309[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'ModelInstanceMetadata[]'.

    [7m309[0m  				let items: ModelInstanceMetadata[] = null;
    [7m   [0m [91m 				    ~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m314[0m:[93m22[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m314[0m  				const parents = this.schema.namespaces[
    [7m   [0m [91m 				                ~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m315[0m  					namespace
    [7m   [0m [91m~~~~~~~~~~~~~~~[0m
    [7m316[0m  				].modelTopologicalOrdering.get(modelDefinition.name);
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m317[0m:[93m23[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m317[0m  				const promises = parents.map(parent =>
    [7m   [0m [91m 				                 ~~~~~~~[0m

      226 | 		});
      227 |
    > 228 | 		it('should return NonRetryableError for 403 error', async () => {
          | 		^
      229 | 			const rejectResponse = {
      230 | 				data: null,
      231 | 				errors: [

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at Suite.<anonymous> (__tests__/sync.test.ts:228:3)
      at Suite.<anonymous> (__tests__/sync.test.ts:30:2)
      at Object.<anonymous> (__tests__/sync.test.ts:29:1)

  ‚óè Sync ‚Ä∫ jitteredRetry ‚Ä∫ should return NonRetryableError for client-side error: No api-key configured

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/processors/sync.ts[0m:[93m66[0m:[93m4[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'Partial<GraphQLField> | Partial<{ and: (Partial<GraphQLField> | Partial<...> | Partial<{ or: (Partial<GraphQLField> | Partial<...> | Partial<...> | Partial<...>)[]; }> | Partial<...>)[]; }> | Partial<...> | Partial<...>'.

    [7m66[0m  		return null;
    [7m  [0m [91m 		~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m69[0m:[93m4[0m - [91merror[0m[90m TS2345: [0mArgument of type 'ModelPredicate<any> | undefined' is not assignable to parameter of type 'ModelPredicate<any>'.
      Type 'undefined' is not assignable to type 'ModelPredicate<any>'.
        Type 'undefined' is not assignable to type '{ [x: string]: (operator: never, operand: never) => ModelPredicate<any>; }'.

    [7m69[0m  		this.syncPredicates.get(model),
    [7m  [0m [91m 		~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m74[0m:[93m4[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'Partial<GraphQLField> | Partial<{ and: (Partial<GraphQLField> | Partial<...> | Partial<{ or: (Partial<GraphQLField> | Partial<...> | Partial<...> | Partial<...>)[]; }> | Partial<...>)[]; }> | Partial<...> | Partial<...>'.

    [7m74[0m  		return null;
    [7m  [0m [91m 		~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m86[0m:[93m3[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'number'.

    [7m86[0m  	limit: number = null,
    [7m  [0m [91m 	~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m293[0m:[93m7[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m293[0m  					namespace.modelTopologicalOrdering.keys()
    [7m   [0m [91m 					~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m296[0m:[93m44[0m - [91merror[0m[90m TS2345: [0mArgument of type '[string, number] | undefined' is not assignable to parameter of type '[string, number]'.
      Type 'undefined' is not assignable to type '[string, number]'.

    [7m296[0m  					map.set(namespace.models[modelName], typeLastSync);
    [7m   [0m [91m 					                                     ~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m307[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'string'.

    [7m307[0m  				let nextToken: string = null;
    [7m   [0m [91m 				    ~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m308[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'number'.

    [7m308[0m  				let startedAt: number = null;
    [7m   [0m [91m 				    ~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m309[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'ModelInstanceMetadata[]'.

    [7m309[0m  				let items: ModelInstanceMetadata[] = null;
    [7m   [0m [91m 				    ~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m314[0m:[93m22[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m314[0m  				const parents = this.schema.namespaces[
    [7m   [0m [91m 				                ~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m315[0m  					namespace
    [7m   [0m [91m~~~~~~~~~~~~~~~[0m
    [7m316[0m  				].modelTopologicalOrdering.get(modelDefinition.name);
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m317[0m:[93m23[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m317[0m  				const promises = parents.map(parent =>
    [7m   [0m [91m 				                 ~~~~~~~[0m

      260 | 			'No federated jwt',
      261 | 		].forEach(authError => {
    > 262 | 			it(`should return NonRetryableError for client-side error: ${authError}`, async () => {
          | 			^
      263 | 				const rejectResponse = {
      264 | 					message: authError,
      265 | 				};

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at __tests__/sync.test.ts:262:4
          at Array.forEach (<anonymous>)
      at Suite.<anonymous> (__tests__/sync.test.ts:261:5)
      at Suite.<anonymous> (__tests__/sync.test.ts:30:2)
      at Object.<anonymous> (__tests__/sync.test.ts:29:1)

  ‚óè Sync ‚Ä∫ jitteredRetry ‚Ä∫ should return NonRetryableError for client-side error: No current user

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/processors/sync.ts[0m:[93m66[0m:[93m4[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'Partial<GraphQLField> | Partial<{ and: (Partial<GraphQLField> | Partial<...> | Partial<{ or: (Partial<GraphQLField> | Partial<...> | Partial<...> | Partial<...>)[]; }> | Partial<...>)[]; }> | Partial<...> | Partial<...>'.

    [7m66[0m  		return null;
    [7m  [0m [91m 		~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m69[0m:[93m4[0m - [91merror[0m[90m TS2345: [0mArgument of type 'ModelPredicate<any> | undefined' is not assignable to parameter of type 'ModelPredicate<any>'.
      Type 'undefined' is not assignable to type 'ModelPredicate<any>'.
        Type 'undefined' is not assignable to type '{ [x: string]: (operator: never, operand: never) => ModelPredicate<any>; }'.

    [7m69[0m  		this.syncPredicates.get(model),
    [7m  [0m [91m 		~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m74[0m:[93m4[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'Partial<GraphQLField> | Partial<{ and: (Partial<GraphQLField> | Partial<...> | Partial<{ or: (Partial<GraphQLField> | Partial<...> | Partial<...> | Partial<...>)[]; }> | Partial<...>)[]; }> | Partial<...> | Partial<...>'.

    [7m74[0m  		return null;
    [7m  [0m [91m 		~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m86[0m:[93m3[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'number'.

    [7m86[0m  	limit: number = null,
    [7m  [0m [91m 	~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m293[0m:[93m7[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m293[0m  					namespace.modelTopologicalOrdering.keys()
    [7m   [0m [91m 					~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m296[0m:[93m44[0m - [91merror[0m[90m TS2345: [0mArgument of type '[string, number] | undefined' is not assignable to parameter of type '[string, number]'.
      Type 'undefined' is not assignable to type '[string, number]'.

    [7m296[0m  					map.set(namespace.models[modelName], typeLastSync);
    [7m   [0m [91m 					                                     ~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m307[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'string'.

    [7m307[0m  				let nextToken: string = null;
    [7m   [0m [91m 				    ~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m308[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'number'.

    [7m308[0m  				let startedAt: number = null;
    [7m   [0m [91m 				    ~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m309[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'ModelInstanceMetadata[]'.

    [7m309[0m  				let items: ModelInstanceMetadata[] = null;
    [7m   [0m [91m 				    ~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m314[0m:[93m22[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m314[0m  				const parents = this.schema.namespaces[
    [7m   [0m [91m 				                ~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m315[0m  					namespace
    [7m   [0m [91m~~~~~~~~~~~~~~~[0m
    [7m316[0m  				].modelTopologicalOrdering.get(modelDefinition.name);
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m317[0m:[93m23[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m317[0m  				const promises = parents.map(parent =>
    [7m   [0m [91m 				                 ~~~~~~~[0m

      260 | 			'No federated jwt',
      261 | 		].forEach(authError => {
    > 262 | 			it(`should return NonRetryableError for client-side error: ${authError}`, async () => {
          | 			^
      263 | 				const rejectResponse = {
      264 | 					message: authError,
      265 | 				};

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at __tests__/sync.test.ts:262:4
          at Array.forEach (<anonymous>)
      at Suite.<anonymous> (__tests__/sync.test.ts:261:5)
      at Suite.<anonymous> (__tests__/sync.test.ts:30:2)
      at Object.<anonymous> (__tests__/sync.test.ts:29:1)

  ‚óè Sync ‚Ä∫ jitteredRetry ‚Ä∫ should return NonRetryableError for client-side error: No credentials

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/processors/sync.ts[0m:[93m66[0m:[93m4[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'Partial<GraphQLField> | Partial<{ and: (Partial<GraphQLField> | Partial<...> | Partial<{ or: (Partial<GraphQLField> | Partial<...> | Partial<...> | Partial<...>)[]; }> | Partial<...>)[]; }> | Partial<...> | Partial<...>'.

    [7m66[0m  		return null;
    [7m  [0m [91m 		~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m69[0m:[93m4[0m - [91merror[0m[90m TS2345: [0mArgument of type 'ModelPredicate<any> | undefined' is not assignable to parameter of type 'ModelPredicate<any>'.
      Type 'undefined' is not assignable to type 'ModelPredicate<any>'.
        Type 'undefined' is not assignable to type '{ [x: string]: (operator: never, operand: never) => ModelPredicate<any>; }'.

    [7m69[0m  		this.syncPredicates.get(model),
    [7m  [0m [91m 		~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m74[0m:[93m4[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'Partial<GraphQLField> | Partial<{ and: (Partial<GraphQLField> | Partial<...> | Partial<{ or: (Partial<GraphQLField> | Partial<...> | Partial<...> | Partial<...>)[]; }> | Partial<...>)[]; }> | Partial<...> | Partial<...>'.

    [7m74[0m  		return null;
    [7m  [0m [91m 		~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m86[0m:[93m3[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'number'.

    [7m86[0m  	limit: number = null,
    [7m  [0m [91m 	~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m293[0m:[93m7[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m293[0m  					namespace.modelTopologicalOrdering.keys()
    [7m   [0m [91m 					~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m296[0m:[93m44[0m - [91merror[0m[90m TS2345: [0mArgument of type '[string, number] | undefined' is not assignable to parameter of type '[string, number]'.
      Type 'undefined' is not assignable to type '[string, number]'.

    [7m296[0m  					map.set(namespace.models[modelName], typeLastSync);
    [7m   [0m [91m 					                                     ~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m307[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'string'.

    [7m307[0m  				let nextToken: string = null;
    [7m   [0m [91m 				    ~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m308[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'number'.

    [7m308[0m  				let startedAt: number = null;
    [7m   [0m [91m 				    ~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m309[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'ModelInstanceMetadata[]'.

    [7m309[0m  				let items: ModelInstanceMetadata[] = null;
    [7m   [0m [91m 				    ~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m314[0m:[93m22[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m314[0m  				const parents = this.schema.namespaces[
    [7m   [0m [91m 				                ~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m315[0m  					namespace
    [7m   [0m [91m~~~~~~~~~~~~~~~[0m
    [7m316[0m  				].modelTopologicalOrdering.get(modelDefinition.name);
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m317[0m:[93m23[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m317[0m  				const promises = parents.map(parent =>
    [7m   [0m [91m 				                 ~~~~~~~[0m

      260 | 			'No federated jwt',
      261 | 		].forEach(authError => {
    > 262 | 			it(`should return NonRetryableError for client-side error: ${authError}`, async () => {
          | 			^
      263 | 				const rejectResponse = {
      264 | 					message: authError,
      265 | 				};

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at __tests__/sync.test.ts:262:4
          at Array.forEach (<anonymous>)
      at Suite.<anonymous> (__tests__/sync.test.ts:261:5)
      at Suite.<anonymous> (__tests__/sync.test.ts:30:2)
      at Object.<anonymous> (__tests__/sync.test.ts:29:1)

  ‚óè Sync ‚Ä∫ jitteredRetry ‚Ä∫ should return NonRetryableError for client-side error: No federated jwt

    TSError: TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/processors/sync.ts[0m:[93m66[0m:[93m4[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'Partial<GraphQLField> | Partial<{ and: (Partial<GraphQLField> | Partial<...> | Partial<{ or: (Partial<GraphQLField> | Partial<...> | Partial<...> | Partial<...>)[]; }> | Partial<...>)[]; }> | Partial<...> | Partial<...>'.

    [7m66[0m  		return null;
    [7m  [0m [91m 		~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m69[0m:[93m4[0m - [91merror[0m[90m TS2345: [0mArgument of type 'ModelPredicate<any> | undefined' is not assignable to parameter of type 'ModelPredicate<any>'.
      Type 'undefined' is not assignable to type 'ModelPredicate<any>'.
        Type 'undefined' is not assignable to type '{ [x: string]: (operator: never, operand: never) => ModelPredicate<any>; }'.

    [7m69[0m  		this.syncPredicates.get(model),
    [7m  [0m [91m 		~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m74[0m:[93m4[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'Partial<GraphQLField> | Partial<{ and: (Partial<GraphQLField> | Partial<...> | Partial<{ or: (Partial<GraphQLField> | Partial<...> | Partial<...> | Partial<...>)[]; }> | Partial<...>)[]; }> | Partial<...> | Partial<...>'.

    [7m74[0m  		return null;
    [7m  [0m [91m 		~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m86[0m:[93m3[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'number'.

    [7m86[0m  	limit: number = null,
    [7m  [0m [91m 	~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m293[0m:[93m7[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m293[0m  					namespace.modelTopologicalOrdering.keys()
    [7m   [0m [91m 					~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m296[0m:[93m44[0m - [91merror[0m[90m TS2345: [0mArgument of type '[string, number] | undefined' is not assignable to parameter of type '[string, number]'.
      Type 'undefined' is not assignable to type '[string, number]'.

    [7m296[0m  					map.set(namespace.models[modelName], typeLastSync);
    [7m   [0m [91m 					                                     ~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m307[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'string'.

    [7m307[0m  				let nextToken: string = null;
    [7m   [0m [91m 				    ~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m308[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'number'.

    [7m308[0m  				let startedAt: number = null;
    [7m   [0m [91m 				    ~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m309[0m:[93m10[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'ModelInstanceMetadata[]'.

    [7m309[0m  				let items: ModelInstanceMetadata[] = null;
    [7m   [0m [91m 				    ~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m314[0m:[93m22[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m314[0m  				const parents = this.schema.namespaces[
    [7m   [0m [91m 				                ~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m315[0m  					namespace
    [7m   [0m [91m~~~~~~~~~~~~~~~[0m
    [7m316[0m  				].modelTopologicalOrdering.get(modelDefinition.name);
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/sync.ts[0m:[93m317[0m:[93m23[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m317[0m  				const promises = parents.map(parent =>
    [7m   [0m [91m 				                 ~~~~~~~[0m

      260 | 			'No federated jwt',
      261 | 		].forEach(authError => {
    > 262 | 			it(`should return NonRetryableError for client-side error: ${authError}`, async () => {
          | 			^
      263 | 				const rejectResponse = {
      264 | 					message: authError,
      265 | 				};

      at new Spec (../../node_modules/jest-jasmine2/build/jasmine/Spec.js:116:22)
      at __tests__/sync.test.ts:262:4
          at Array.forEach (<anonymous>)
      at Suite.<anonymous> (__tests__/sync.test.ts:261:5)
      at Suite.<anonymous> (__tests__/sync.test.ts:30:2)
      at Object.<anonymous> (__tests__/sync.test.ts:29:1)

PASS __tests__/authStrategies.test.ts
PASS __tests__/util.test.ts
FAIL __tests__/graphql.ts
  ‚óè Test suite failed to run

    TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96m__tests__/graphql.ts[0m:[93m138[0m:[93m58[0m - [91merror[0m[90m TS2345: [0mArgument of type 'string[] | undefined' is not assignable to parameter of type 'string | Source'.
      Type 'undefined' is not assignable to type 'string | Source'.

    [7m138[0m  		expect(print(parse(query))).toStrictEqual(print(parse(expectedGraphQL)));
    [7m   [0m [91m 		                                                      ~~~~~~~~~~~~~~~[0m

FAIL __tests__/IndexedDBAdapter.test.ts
  ‚óè Test suite failed to run

    TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96m__tests__/IndexedDBAdapter.test.ts[0m:[93m61[0m:[93m11[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m61[0m  		expect(result.field1).toEqual('Some value');
    [7m  [0m [91m 		       ~~~~~~[0m
    [96m__tests__/IndexedDBAdapter.test.ts[0m:[93m145[0m:[93m11[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m145[0m  		expect(user.id).toEqual(user1Id);
    [7m   [0m [91m 		       ~~~~[0m
    [96m__tests__/IndexedDBAdapter.test.ts[0m:[93m146[0m:[93m11[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m146[0m  		expect(profile.id).toEqual(profile1Id);
    [7m   [0m [91m 		       ~~~~~~~[0m

FAIL __tests__/outbox.test.ts
  ‚óè Test suite failed to run

    TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96m__tests__/outbox.test.ts[0m:[93m362[0m:[93m3[0m - [91merror[0m[90m TS2345: [0mArgument of type 'undefined' is not assignable to parameter of type 'RelationshipType'.

    [7m362[0m  	undefined,
    [7m   [0m [91m 	~~~~~~~~~[0m

FAIL __tests__/storage.test.ts
  ‚óè Test suite failed to run

    TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96m__tests__/storage.test.ts[0m:[93m124[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'string | undefined'.

    [7m124[0m  					draft.optionalField1 = null;
    [7m   [0m [91m 					~~~~~~~~~~~~~~~~~~~~[0m
    [96m__tests__/storage.test.ts[0m:[93m210[0m:[93m7[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m210[0m  					draft.emails.push('joe@doe.com');
    [7m   [0m [91m 					~~~~~~~~~~~~[0m
    [96m__tests__/storage.test.ts[0m:[93m301[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'string[] | undefined'.

    [7m301[0m  					draft.emails = null;
    [7m   [0m [91m 					~~~~~~~~~~~~[0m
    [96m__tests__/storage.test.ts[0m:[93m331[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType '{ penNames: string[]; } | { penNames: string[]; author: string; tags?: string[] | undefined; rewards: string[]; nominations?: string[] | undefined; misc?: (string | null)[] | undefined; }' is not assignable to type 'DeepWritable<Metadata> | undefined'.
      Type '{ penNames: string[]; }' is missing the following properties from type 'DeepWritable<Metadata>': author, rewards

    [7m331[0m  					draft.metadata = {
    [7m   [0m [91m 					~~~~~~~~~~~~~~[0m
    [96m__tests__/storage.test.ts[0m:[93m374[0m:[93m7[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m374[0m  					draft.metadata.penNames = ['bob'];
    [7m   [0m [91m 					~~~~~~~~~~~~~~[0m
    [96m__tests__/storage.test.ts[0m:[93m434[0m:[93m19[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m434[0m  			expect((await updatedComment.post).title).toEqual(
    [7m   [0m [91m 			              ~~~~~~~~~~~~~~[0m
    [96m__tests__/storage.test.ts[0m:[93m465[0m:[93m20[0m - [91merror[0m[90m TS2345: [0mArgument of type '{ content: string; }' is not assignable to parameter of type 'ModelInit<Comment, { readOnlyFields: "createdAt" | "updatedAt"; }>'.
      Property 'post' is missing in type '{ content: string; }' but required in type '{ readonly content: string; readonly post: Post; }'.

    [7m465[0m  						new Comment({
    [7m   [0m [91m 						            ~[0m
    [7m466[0m  							content: 'comment 2',
    [7m   [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m467[0m  						}),
    [7m   [0m [91m~~~~~~~~[0m

      [96m__tests__/helpers.ts[0m:[93m41[0m:[93m18[0m
        [7m41[0m  public readonly post: Promise<Post>;
        [7m  [0m [96m                 ~~~~[0m
        'post' is declared here.
    [96m__tests__/storage.test.ts[0m:[93m475[0m:[93m19[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m475[0m  			expect((await test.comments.toArray()).map((c) => c.content)).toEqual([
    [7m   [0m [91m 			              ~~~~[0m

FAIL __tests__/subscription.test.ts
  ‚óè Test suite failed to run

    TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/processors/subscription.ts[0m:[93m56[0m:[93m10[0m - [91merror[0m[90m TS2564: [0mProperty 'dataObserver' has no initializer and is not definitely assigned in the constructor.

    [7m56[0m  private dataObserver: ZenObservable.Observer<any>;
    [7m  [0m [91m         ~~~~~~~~~~~~[0m
    [96msrc/sync/processors/subscription.ts[0m:[93m98[0m:[93m4[0m - [91merror[0m[90m TS2345: [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.
      Type 'undefined' is not assignable to type 'string'.

    [7m98[0m  		ownerField
    [7m  [0m [91m 		~~~~~~~~~~[0m
    [96msrc/sync/processors/subscription.ts[0m:[93m121[0m:[93m4[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'AuthorizationInfo'.

    [7m121[0m  		return null;
    [7m   [0m [91m 		~~~~~~~~~~~~[0m
    [96msrc/sync/processors/subscription.ts[0m:[93m185[0m:[93m7[0m - [91merror[0m[90m TS2454: [0mVariable 'ownerAuthInfo' is used before being assigned.

    [7m185[0m  	if (ownerAuthInfo) {
    [7m   [0m [91m 	    ~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/subscription.ts[0m:[93m212[0m:[93m7[0m - [91merror[0m[90m TS2454: [0mVariable 'ownerAuthInfo' is used before being assigned.

    [7m212[0m  	if (ownerAuthInfo) {
    [7m   [0m [91m 	    ~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/subscription.ts[0m:[93m376[0m:[93m20[0m - [91merror[0m[90m TS2538: [0mType 'undefined' cannot be used as an index type.

    [7m376[0m  								variables[ownerField] = ownerValue;
    [7m   [0m [91m 								          ~~~~~~~~~~[0m
    [96msrc/sync/processors/subscription.ts[0m:[93m417[0m:[93m14[0m - [91merror[0m[90m TS2345: [0mArgument of type 'ModelPredicate<any> | undefined' is not assignable to parameter of type 'ModelPredicate<any>'.
      Type 'undefined' is not assignable to type 'ModelPredicate<any>'.
        Type 'undefined' is not assignable to type '{ [x: string]: (operator: never, operand: never) => ModelPredicate<any>; }'.

    [7m417[0m  												this.syncPredicates.get(modelDefinition),
    [7m   [0m [91m 												~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/subscription.ts[0m:[93m421[0m:[93m22[0m - [91merror[0m[90m TS2537: [0mType 'Record<string, Readonly<{ id: string; } & Record<string, any>>> | undefined' has no matching index signature for type 'string'.

    [7m421[0m  											const { [opName]: record } = data;
    [7m   [0m [91m 											         ~~~~~~[0m
    [96msrc/sync/processors/subscription.ts[0m:[93m557[0m:[93m5[0m - [91merror[0m[90m TS2322: [0mType 'null' is not assignable to type 'Observer<any>'.

    [7m557[0m  			this.dataObserver = null;
    [7m   [0m [91m 			~~~~~~~~~~~~~~~~~[0m
    [96msrc/sync/processors/subscription.ts[0m:[93m587[0m:[93m32[0m - [91merror[0m[90m TS2722: [0mCannot invoke an object which is possibly 'undefined'.

    [7m587[0m  		this.buffer.forEach(data => this.dataObserver.next(data));
    [7m   [0m [91m 		                            ~~~~~~~~~~~~~~~~~~~~~~[0m

FAIL __tests__/Merger.test.ts
  ‚óè Test suite failed to run

    TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96m__tests__/Merger.test.ts[0m:[93m57[0m:[93m49[0m - [91merror[0m[90m TS2345: [0mArgument of type '({ id: string; field1: string; optionalField1: null; _version: number; _lastChangedAt: number; _deleted: null; } | { id: string; field1: string; optionalField1: null; _version: number; _lastChangedAt: number; _deleted: boolean; })[]' is not assignable to parameter of type 'ModelInstanceMetadata[]'.
      Type '{ id: string; field1: string; optionalField1: null; _version: number; _lastChangedAt: number; _deleted: null; } | { id: string; field1: string; optionalField1: null; _version: number; _lastChangedAt: number; _deleted: boolean; }' is not assignable to type 'ModelInstanceMetadata'.
        Type '{ id: string; field1: string; optionalField1: null; _version: number; _lastChangedAt: number; _deleted: null; }' is not assignable to type 'ModelInstanceMetadata'.
          Types of property '_deleted' are incompatible.
            Type 'null' is not assignable to type 'boolean'.

    [7m57[0m  			await modelMerger.mergePage(storage, Model, items);
    [7m  [0m [91m 			                                            ~~~~~[0m
    [96m__tests__/Merger.test.ts[0m:[93m96[0m:[93m49[0m - [91merror[0m[90m TS2345: [0mArgument of type '({ id: string; field1: string; optionalField1: null; _version: number; _lastChangedAt: number; _deleted: null; } | { id: string; field1: string; optionalField1: string; _version: number; _lastChangedAt: number; _deleted: null; })[]' is not assignable to parameter of type 'ModelInstanceMetadata[]'.
      Type '{ id: string; field1: string; optionalField1: null; _version: number; _lastChangedAt: number; _deleted: null; } | { id: string; field1: string; optionalField1: string; _version: number; _lastChangedAt: number; _deleted: null; }' is not assignable to type 'ModelInstanceMetadata'.
        Type '{ id: string; field1: string; optionalField1: null; _version: number; _lastChangedAt: number; _deleted: null; }' is not assignable to type 'ModelInstanceMetadata'.
          Types of property '_deleted' are incompatible.
            Type 'null' is not assignable to type 'boolean'.

    [7m96[0m  			await modelMerger.mergePage(storage, Model, items);
    [7m  [0m [91m 			                                            ~~~~~[0m
    [96m__tests__/Merger.test.ts[0m:[93m101[0m:[93m11[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m101[0m  		expect(record.field1).toEqual('Another Update');
    [7m   [0m [91m 		       ~~~~~~[0m
    [96m__tests__/Merger.test.ts[0m:[93m102[0m:[93m11[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m102[0m  		expect(record.optionalField1).toEqual('Optional');
    [7m   [0m [91m 		       ~~~~~~[0m
    [96m__tests__/Merger.test.ts[0m:[93m136[0m:[93m49[0m - [91merror[0m[90m TS2345: [0mArgument of type '({ id: string; field1: string; optionalField1: null; _version: number; _lastChangedAt: number; _deleted: null; } | { id: string; field1: string; optionalField1: null; _version: number; _lastChangedAt: number; _deleted: boolean; })[]' is not assignable to parameter of type 'ModelInstanceMetadata[]'.
      Type '{ id: string; field1: string; optionalField1: null; _version: number; _lastChangedAt: number; _deleted: null; } | { id: string; field1: string; optionalField1: null; _version: number; _lastChangedAt: number; _deleted: boolean; }' is not assignable to type 'ModelInstanceMetadata'.
        Type '{ id: string; field1: string; optionalField1: null; _version: number; _lastChangedAt: number; _deleted: null; }' is not assignable to type 'ModelInstanceMetadata'.
          Types of property '_deleted' are incompatible.
            Type 'null' is not assignable to type 'boolean'.

    [7m136[0m  			await modelMerger.mergePage(storage, Model, items);
    [7m   [0m [91m 			                                            ~~~~~[0m
    [96m__tests__/Merger.test.ts[0m:[93m142[0m:[93m11[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m142[0m  		expect(record.field1).toEqual('New Create with the same id');
    [7m   [0m [91m 		       ~~~~~~[0m

FAIL __tests__/Predicate.ts
  ‚óè Test suite failed to run

    TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96m__tests__/Predicate.ts[0m:[93m72[0m:[93m41[0m - [91merror[0m[90m TS2322: [0mType 'PredicatesGroup<any> | undefined' is not assignable to type 'PredicateObject<T> | PredicatesGroup<T>'.
      Type 'undefined' is not assignable to type 'PredicateObject<T> | PredicatesGroup<T>'.

    [7m72[0m  				flatPredicateMatches(item, 'and', [predicates])
    [7m  [0m [91m 				                                   ~~~~~~~~~~[0m

FAIL __tests__/mutation.test.ts
  ‚óè Test suite failed to run

    TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96m__tests__/mutation.test.ts[0m:[93m239[0m:[93m3[0m - [91merror[0m[90m TS2345: [0mArgument of type 'undefined' is not assignable to parameter of type 'RelationshipType'.

    [7m239[0m  	undefined,
    [7m   [0m [91m 	~~~~~~~~~[0m

FAIL __tests__/AsyncStorageAdapter.test.ts
  ‚óè Test suite failed to run

    TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96m__tests__/AsyncStorageAdapter.test.ts[0m:[93m73[0m:[93m11[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m73[0m  		expect(result.field1).toEqual('Some value');
    [7m  [0m [91m 		       ~~~~~~[0m
    [96m__tests__/AsyncStorageAdapter.test.ts[0m:[93m166[0m:[93m11[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m166[0m  		expect(user.id).toEqual(user1Id);
    [7m   [0m [91m 		       ~~~~[0m
    [96m__tests__/AsyncStorageAdapter.test.ts[0m:[93m167[0m:[93m11[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m167[0m  		expect(profile.id).toEqual(profile1Id);
    [7m   [0m [91m 		       ~~~~~~~[0m

FAIL __tests__/AsyncStorage.ts
  ‚óè Test suite failed to run

    TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96m__tests__/AsyncStorage.ts[0m:[93m52[0m:[93m28[0m - [91merror[0m[90m TS2322: [0mType 'string' is not assignable to type 'never'.

    [7m52[0m  			(res, k) => (res.push([k, inmemoryMap.get(k)]), res),
    [7m  [0m [91m 			                       ~[0m
    [96m__tests__/AsyncStorage.ts[0m:[93m52[0m:[93m31[0m - [91merror[0m[90m TS2322: [0mType 'string | undefined' is not assignable to type 'never'.
      Type 'undefined' is not assignable to type 'never'.

    [7m52[0m  			(res, k) => (res.push([k, inmemoryMap.get(k)]), res),
    [7m  [0m [91m 			                          ~~~~~~~~~~~~~~~~~~[0m
    [96m__tests__/AsyncStorage.ts[0m:[93m302[0m:[93m30[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m302[0m  	const resolvedPost = await q1.post;
    [7m   [0m [91m 	                           ~~[0m
    [96m__tests__/AsyncStorage.ts[0m:[93m304[0m:[93m10[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m304[0m  	expect(resolvedPost.id).toEqual(p.id);
    [7m   [0m [91m 	       ~~~~~~~~~~~~[0m
    [96m__tests__/AsyncStorage.ts[0m:[93m436[0m:[93m10[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m436[0m  	expect((await DataStore.query(Comment, c2.id)).id).toEqual(c2.id);
    [7m   [0m [91m 	       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96m__tests__/AsyncStorage.ts[0m:[93m472[0m:[93m10[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m472[0m  	expect((await DataStore.query(Comment, c3.id)).id).toEqual(c3.id);
    [7m   [0m [91m 	       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96m__tests__/AsyncStorage.ts[0m:[93m624[0m:[93m15[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m624[0m  const ulid = collectionInMemoryIndex.get(storeName).get(id);
    [7m   [0m [91m              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

FAIL __tests__/indexeddb.test.ts
  ‚óè Test suite failed to run

    TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m297[0m:[93m21[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m297[0m  	const relations = namespace.relationships[srcModelName].relationTypes;
    [7m   [0m [91m 	                  ~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m301[0m:[93m28[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m301[0m  	const modelConstructor = this.getModelConstructorByModelName(
    [7m   [0m [91m 	                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m301[0m:[93m28[0m - [91merror[0m[90m TS2722: [0mCannot invoke an object which is possibly 'undefined'.

    [7m301[0m  	const modelConstructor = this.getModelConstructorByModelName(
    [7m   [0m [91m 	                         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m302[0m:[93m4[0m - [91merror[0m[90m TS2345: [0mArgument of type 'string' is not assignable to parameter of type 'NAMESPACES'.

    [7m302[0m  		namespaceName,
    [7m   [0m [91m 		~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m446[0m:[93m12[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m446[0m  				await predicateIndex.index.getAll(predicateIndex.predicate.operand)
    [7m   [0m [91m 				      ~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m464[0m:[93m13[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m464[0m  					await predicateIndex.index.getAll(predicateIndex.predicate.operand)
    [7m   [0m [91m 					      ~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m572[0m:[93m54[0m - [91merror[0m[90m TS2345: [0mArgument of type 'ModelPredicate<T> | undefined' is not assignable to parameter of type 'ModelPredicate<Readonly<{ id: string; } & Record<string, any>>> | undefined'.
      Type 'ModelPredicate<T>' is not assignable to type 'ModelPredicate<Readonly<{ id: string; } & Record<string, any>>> | undefined'.
        Type 'ModelPredicate<T>' is not assignable to type 'ModelPredicate<Readonly<{ id: string; } & Record<string, any>>>'.
          Type 'ModelPredicate<T>' is not assignable to type '{ [x: string]: (operator: never, operand: never) => ModelPredicate<Readonly<{ id: string; } & Record<string, any>>>; readonly id: (operator: "ne" | "eq" | "le" | "lt" | "ge" | "gt" | "beginsWith" | "contains" | "notContains", operand: string) => ModelPredicate<...>; }'.
            Types of property 'id' are incompatible.
              Type 'PredicateExpression<T, NonNullable<T["id"]>>' is not assignable to type '(operator: "ne" | "eq" | "le" | "lt" | "ge" | "gt" | "beginsWith" | "contains" | "notContains", operand: string) => ModelPredicate<Readonly<{ id: string; } & Record<string, any>>>'.
                Type '(operator: keyof MapTypeToOperands<NonNullable<T["id"]>>[TypeName<NonNullable<T["id"]>>], operand: MapTypeToOperands<NonNullable<T["id"]>>[TypeName<...>][keyof MapTypeToOperands<...>[TypeName<...>]]) => ModelPredicate<...>' is not assignable to type '(operator: "ne" | "eq" | "le" | "lt" | "ge" | "gt" | "beginsWith" | "contains" | "notContains", operand: string) => ModelPredicate<Readonly<{ id: string; } & Record<string, any>>>'.
                  Types of parameters 'operand' and 'operand' are incompatible.
                    Type 'string' is not assignable to type 'MapTypeToOperands<NonNullable<T["id"]>>[TypeName<NonNullable<T["id"]>>][keyof MapTypeToOperands<NonNullable<T["id"]>>[TypeName<...>]]'.

    [7m572[0m  		const models = await this.query(modelConstructor, condition);
    [7m   [0m [91m 		                                                  ~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m574[0m:[93m5[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m574[0m  			this.schema.namespaces[nameSpace].relationships[modelConstructor.name]
    [7m   [0m [91m 			~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m629[0m:[93m49[0m - [91merror[0m[90m TS2339: [0mProperty 'id' does not exist on type 'T | PersistentModelConstructor<T, { readOnlyFields: "createdAt" | "updatedAt"; }>'.
      Property 'id' does not exist on type 'PersistentModelConstructor<T, { readOnlyFields: "createdAt" | "updatedAt"; }>'.

    [7m629[0m  			const fromDB = await this._get(store, model.id);
    [7m   [0m [91m 			                                            ~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m635[0m:[93m15[0m - [91merror[0m[90m TS2322: [0mType 'T | PersistentModelConstructor<T, { readOnlyFields: "createdAt" | "updatedAt"; }>' is not assignable to type 'T'.
      Type 'PersistentModelConstructor<T, { readOnlyFields: "createdAt" | "updatedAt"; }>' is not assignable to type 'T'.

    [7m635[0m  				return [[model], []];
    [7m   [0m [91m 				         ~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m639[0m:[93m13[0m - [91merror[0m[90m TS2339: [0mProperty 'predicates' does not exist on type 'PredicatesGroup<any> | undefined'.

    [7m639[0m  			const { predicates: predicateObjs, type } = predicates;
    [7m   [0m [91m 			        ~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m639[0m:[93m40[0m - [91merror[0m[90m TS2339: [0mProperty 'type' does not exist on type 'PredicatesGroup<any> | undefined'.

    [7m639[0m  			const { predicates: predicateObjs, type } = predicates;
    [7m   [0m [91m 			                                   ~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m641[0m:[93m39[0m - [91merror[0m[90m TS2345: [0mArgument of type 'unknown' is not assignable to parameter of type 'Readonly<{ id: string; } & Record<string, any>>'.

    [7m641[0m  			const isValid = validatePredicate(fromDB, type, predicateObjs);
    [7m   [0m [91m 			                                  ~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m652[0m:[93m6[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m652[0m  				this.schema.namespaces[nameSpace].relationships[modelConstructor.name]
    [7m   [0m [91m 				~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m657[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'T | PersistentModelConstructor<T, { readOnlyFields: "createdAt" | "updatedAt"; }>' is not assignable to type 'Readonly<{ id: string; } & Record<string, any>>'.
      Property 'id' is missing in type 'PersistentModelConstructor<T, { readOnlyFields: "createdAt" | "updatedAt"; }>' but required in type 'Readonly<{ id: string; } & Record<string, any>>'.

    [7m657[0m  				[model],
    [7m   [0m [91m 				 ~~~~~[0m

      [96msrc/types.ts[0m:[93m412[0m:[93m42[0m
        [7m412[0m export type PersistentModel = Readonly<{ id: string } & Record<string, any>>;
        [7m   [0m [96m                                         ~~[0m
        'id' is declared here.
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m664[0m:[93m6[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m664[0m  				this.schema.namespaces[nameSpace].relationships[modelConstructor.name]
    [7m   [0m [91m 				~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m669[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'T | PersistentModelConstructor<T, { readOnlyFields: "createdAt" | "updatedAt"; }>' is not assignable to type 'Readonly<{ id: string; } & Record<string, any>>'.
      Type 'PersistentModelConstructor<T, { readOnlyFields: "createdAt" | "updatedAt"; }>' is not assignable to type 'Readonly<{ id: string; } & Record<string, any>>'.

    [7m669[0m  				[model],
    [7m   [0m [91m 				 ~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m683[0m:[93m13[0m - [91merror[0m[90m TS2322: [0mType 'T | PersistentModelConstructor<T, { readOnlyFields: "createdAt" | "updatedAt"; }>' is not assignable to type 'T'.
      Type 'PersistentModelConstructor<T, { readOnlyFields: "createdAt" | "updatedAt"; }>' is not assignable to type 'T'.

    [7m683[0m  		return [[model], deletedModels];
    [7m   [0m [91m 		         ~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m690[0m:[93m32[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m690[0m  	const connectionStoreNames = deleteQueue.map(({ storeName }) => {
    [7m   [0m [91m 	                             ~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m695[0m:[93m34[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m695[0m  	for await (const deleteItem of deleteQueue) {
    [7m   [0m [91m 	                               ~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m704[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'string | number | Date | ArrayBufferView | ArrayBuffer | IDBArrayKey | undefined' is not assignable to type 'IDBValidKey'.
      Type 'undefined' is not assignable to type 'IDBValidKey'.

    [7m704[0m  					key = await store.index('byId').getKey(item['id']);
    [7m   [0m [91m 					~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m706[0m:[93m7[0m - [91merror[0m[90m TS2322: [0mType 'string | number | Date | ArrayBufferView | ArrayBuffer | IDBArrayKey | undefined' is not assignable to type 'IDBValidKey'.
      Type 'undefined' is not assignable to type 'IDBValidKey'.

    [7m706[0m  					key = await store.index('byId').getKey(item.toString());
    [7m   [0m [91m 					~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m730[0m:[93m6[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m730[0m  				this.schema.namespaces[nameSpace].relationships[modelName]
    [7m   [0m [91m 				~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m738[0m:[93m6[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m738[0m  				this.schema.namespaces[nameSpace].relationships[modelName].indexes,
    [7m   [0m [91m 				~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m739[0m:[93m6[0m - [91merror[0m[90m TS2345: [0mArgument of type 'string | undefined' is not assignable to parameter of type 'string'.
      Type 'undefined' is not assignable to type 'string'.

    [7m739[0m  				rel.associatedWith
    [7m   [0m [91m 				~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m747[0m:[93m33[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m747[0m  					const hasOneCustomField = targetName in model;
    [7m   [0m [91m 					                          ~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m748[0m:[93m47[0m - [91merror[0m[90m TS2538: [0mType 'undefined' cannot be used as an index type.

    [7m748[0m  					const value = hasOneCustomField ? model[targetName] : model.id;
    [7m   [0m [91m 					                                        ~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m759[0m:[93m8[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m759[0m  						this.schema.namespaces[nameSpace].relationships[modelName]
    [7m   [0m [91m 						~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m777[0m:[93m8[0m - [91merror[0m[90m TS2532: [0mObject is possibly 'undefined'.

    [7m777[0m  						this.schema.namespaces[nameSpace].relationships[modelName]
    [7m   [0m [91m 						~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m793[0m:[93m6[0m - [91merror[0m[90m TS2304: [0mCannot find name 'exhaustiveCheck'.

    [7m793[0m  				exhaustiveCheck(relationType);
    [7m   [0m [91m 				~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m802[0m:[93m6[0m - [91merror[0m[90m TS2722: [0mCannot invoke an object which is possibly 'undefined'.

    [7m802[0m  				this.getModelConstructorByModelName(nameSpace, srcModel),
    [7m   [0m [91m 				~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m802[0m:[93m42[0m - [91merror[0m[90m TS2345: [0mArgument of type 'string' is not assignable to parameter of type 'NAMESPACES'.

    [7m802[0m  				this.getModelConstructorByModelName(nameSpace, srcModel),
    [7m   [0m [91m 				                                    ~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m816[0m:[93m3[0m - [91merror[0m[90m TS2322: [0mType 'undefined' is not assignable to type 'IDBPDatabase<unknown>'.

    [7m816[0m  	this.db = undefined;
    [7m   [0m [91m 	~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m817[0m:[93m3[0m - [91merror[0m[90m TS2322: [0mType 'undefined' is not assignable to type 'Promise<void>'.

    [7m817[0m  	this.initPromise = undefined;
    [7m   [0m [91m 	~~~~~~~~~~~~~~~~[0m
    [96msrc/storage/adapter/IndexedDBAdapter.ts[0m:[93m849[0m:[93m13[0m - [91merror[0m[90m TS2339: [0mProperty 'instance' does not exist on type '{ modelName: string; item: any; instance: any; } | undefined'.

    [7m849[0m  			const { instance } = connectedModels.find(
    [7m   [0m [91m 			        ~~~~~~~~[0m

FAIL __tests__/utils.test.ts
  ‚óè Test suite failed to run

    TypeScript diagnostics (customize using `[jest-config].globals.ts-jest.diagnostics` option):
    [96msrc/sync/utils.ts[0m:[93m31[0m:[93m10[0m - [91merror[0m[90m TS2305: [0mModule '"../../../../../../../../../Users/wirej/amplify/libs/amplify-js/packages/datastore/src/util"' has no exported member 'exhaustiveCheck'.

    [7m31[0m import { exhaustiveCheck } from '../util';
    [7m  [0m [91m         ~~~~~~~~~~~~~~~[0m

----------|----------|----------|----------|----------|-------------------|
File      |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |
----------|----------|----------|----------|----------|-------------------|
All files |        0 |        0 |        0 |        0 |                   |
----------|----------|----------|----------|----------|-------------------|
Test Suites: 14 failed, 2 passed, 16 total
Tests:       66 failed, 1 skipped, 32 passed, 99 total
Snapshots:   0 total
Time:        13.026s
Ran all test suites.
error Command failed with exit code 1.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
